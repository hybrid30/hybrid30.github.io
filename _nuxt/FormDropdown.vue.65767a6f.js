import{d as I,b as S,n as u,o as $,c as g,am as j,g as d,h as c,q as r,z as p,j as s,B as v,i as L,O as z,ai as E,y as x,F,r as N,aI as M,D as T}from"./entry.50cf52f7.js";const q={class:"relative w-[12.5rem]"},R={class:"pointer-events-none -mb-2 transform-gpu whitespace-nowrap px-2 transition-all"},U={class:"line-clamp-1 text-fonts-200"},G={class:"flex h-full w-full flex-col gap-2 overflow-auto px-2","aria-labelledby":"dropdownMenuButton"},H={key:0,class:"mb-2 w-full"},J={key:1},K=["onClick"],W=I({__name:"FormDropdown",props:{multiSelection:{type:Boolean},title:{},style:{},hasDefaultAll:{type:Boolean},selectedOption:{},selectedOptionArray:{},searchable:{type:Boolean},list:{}},emits:["update:modelValue","onChange"],setup(O,{emit:y}){const n=O,{t:_}=S(),o=u(!1),b=u(),h=u(null),i=u(""),w=[{title:"item1",value:"number 1"},{title:"item2",value:"number 2"}],t=u([]);$(()=>{n.hasDefaultAll?t.value=n.selectedOptionArray?n.selectedOptionArray:n.selectedOption?[n.selectedOption||"ALL"]:["ALL"]:t.value=n.selectedOptionArray?n.selectedOptionArray:n.selectedOption!==void 0?[n.selectedOption]:[]});async function A(){var e;o.value=!0,await M(100),(e=h.value)==null||e.focusOnInput()}function C(){o.value=!1}function f(){const e=t.value.length?t.value:["ALL"];y("update:modelValue",e),y("onChange",e)}function k(){t.value=["ALL"],f(),o.value=!1}function B(e){if(n.multiSelection)return t.value=t.value.filter(l=>l!=="ALL"),t.value.includes(e)?(t.value=t.value.filter(l=>l!==e),t.value.length===0&&(t.value=["ALL"]),f()):(t.value.push(e),f());t.value=[e],f(),o.value=!1}const D=g(()=>(n.list||w).filter(l=>l.title.toLowerCase().includes(i.value.toLowerCase())));j(b,()=>{o.value&&(o.value=!1)});const V=g(()=>{const e=n.list||w;return t.value.map(l=>{var m;return l==="ALL"?_("form.dropdown.default"):((m=e.find(a=>a.value===l))==null?void 0:m.title)||l})});return(e,l)=>{const m=T;return d(),c("div",{ref_key:"dropdown",ref:b,class:"text-sm"},[r("div",q,[r("fieldset",{class:p(["input outline-fonts-[50] relative my-2 flex w-full cursor-pointer flex-row items-center justify-between gap-2 rounded-xl border-2 p-2 px-4 text-fonts-50 outline-offset-2 transition-colors",[{"!border-primary-500":s(o)},e.style.dimmed?"border-fonts-300":"border-fonts-50"]]),"aria-haspopup":"true","aria-expanded":"false",onClick:l[0]||(l[0]=a=>s(o)?C():A())},[r("legend",R,v(e.title),1),r("p",U,v([...s(V)].join(", ")),1),L(m,{name:"ph:caret-down-bold",class:p([{"rotate-180":s(o)},"transition-transform"])},null,8,["class"])],2),r("div",{class:p(["invisible absolute z-20 flex max-h-[15em] w-full -translate-y-2 flex-col gap-1 rounded-xl px-1 py-2 opacity-0 transition-all",[{"!visible !translate-y-0 !opacity-100":s(o)},e.style.foreground]])},[r("ul",G,[e.searchable?(d(),c("li",H,[L(s(E),{ref_key:"searchInputEl",ref:h,modelValue:s(i),"onUpdate:modelValue":l[1]||(l[1]=a=>z(i)?i.value=a:null),name:"dropdown-name-searchbox",label:e.$t("form.dropdown.search"),"label-bg":e.style.foreground,class:"text-xs",icon:"ph:magnifying-glass-fill"},null,8,["modelValue","label","label-bg"])])):x("",!0),!s(i)&&e.hasDefaultAll?(d(),c("li",J,[r("button",{type:"button",class:p([{"bg-primary-500 text-white hover:!bg-primary-500":s(t).includes("ALL")},"10 flex w-full rounded-md px-4 py-2 hover:bg-fonts-50/10"]),onClick:k},v(e.$t("form.dropdown.default")),3)])):x("",!0),(d(!0),c(F,null,N(s(D),a=>(d(),c("li",{key:a.value},[r("button",{type:"button",class:p([{"bg-primary-500 text-white hover:!bg-primary-500":s(t).includes(a.value)},"10 flex w-full rounded-md px-4 py-2 hover:bg-fonts-50/10"]),onClick:P=>B(a.value)},v(a.title),11,K)]))),128))])],2)])],512)}}});export{W as _};
