import{_ as H}from"./FormDropdown.vue.02a092df.js";import{d as V,b as E,Y as I,a as L,l as N,n as p,v as P,o as M,$ as j,p as U,Q as T,g as b,h,q as o,j as t,i as r,w as z,A as Y,B as _,z as B,at as q,au as A,D as Q,X as G,ai as K,av as X,G as Z,H as J,a2 as W,I as ee,ae as te,m as se,e as le,f as oe,k as ne}from"./entry.d8777ffc.js";import{_ as ae}from"./SortByDropdown.vue.179fb5c6.js";import{_ as re}from"./TitleList.vue.ca4096ba.js";import"./TitleFrame.6e08d28c.js";import"./TitleFrameUserlist.vue.2914b8e9.js";import"./ContentPop-v2.vue.3b13b65a.js";const O=w=>(Z("data-v-fd397cd6"),w=w(),J(),w),ie={class:"bg-bg-11 relative -my-2 mb-24 flex flex-col items-center justify-center gap-4 rounded-xl p-4"},de={key:0,class:"search-options flex h-[9.375rem] flex-col gap-2"},ue=W('<div class="row h-[4.125rem]" data-v-fd397cd6><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div></div><div class="row h-[4.125rem]" data-v-fd397cd6><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div><div class="__skeleton-2 h-[3.125rem] w-[12.5rem] rounded-xl" data-v-fd397cd6></div></div>',2),ce=[ue],me={key:1,class:"search-options z-30 flex flex-col gap-2"},ge={class:"row"},pe={class:"row"},fe={class:"row"},be={class:"row"},ve={class:"row mt-[1rem] justify-around"},ye=O(()=>o("p",{class:"font-bold"}," 3D ",-1)),xe={class:"flex items-center"},_e=O(()=>o("p",{class:"font-bold"}," x265 ",-1)),he={class:"flex items-center"},we={class:"font-bold"},Ce={class:"flex items-center"},$e={class:"row"},De={class:"flex w-[12.5rem] items-center gap-2"},ke={class:"border-fonts-300 text-fonts-50 input outline-fonts-[50] flex w-full translate-y-1 flex-row items-center justify-center gap-2 rounded-xl border-2 p-2 px-4 py-2 text-sm outline-offset-2 transition-colors"},Se={class:"flex items-center gap-2"},Re={class:"whitespace-nowrap text-xs"},Be={class:"whitespace-nowrap text-xs"},qe=["placeholder"],Oe=O(()=>o("svg",{class:"fill-bg-11 w-[14rem]",viewBox:"0 0 38 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.5 3C27.6667 2 31.6 -2.79753e-07 38 0L30 -3.49691e-07L7.5 -1.3332e-06L0 -1.66103e-06C5.0511 -1.44024e-06 8.56663 1.41742 10.2483 2.46238C10.4687 2.62436 10.6892 2.77852 10.9099 2.92509C10.9415 2.95063 10.9715 2.97561 11 3L10.9219 2.9331C16.8223 6.84511 22.792 5.33316 26.7372 2.79671L26.5 3Z"})],-1)),Ae={class:"absolute mb-4"},Ve=V({__name:"AdvancedSearchParams",emits:["submit"],setup(w,{emit:$}){const{t:D}=E(),k=I(),g=L(),v=N(),f=p(!1);P(f,l=>l===!0&&setTimeout(()=>{var e;return(e=document.querySelector('[aria-label="more options"]'))==null?void 0:e.classList.remove("overflow-hidden")},500));const m=p(!0),d=p(),S={...g.query},a=l=>S[l];function n(l,e){const u=e==="ALL"||e[0]==="ALL"||e==="false";v.replace({query:{...g.query,[l]:u?void 0:e}})}const i=p({"3D":a("3D")==="true",x265:a("x265")==="true",stream:a("stream")==="true"});M(async()=>{const l=await j("SEARCH_PARAMETERS",()=>U.API.actions.advanced_search_parameters());if(l.error)return k(l.msg,"ERROR");if(!l.success||!l.result)return k(D("errorMessage"),"ERROR");d.value=l.result,m.value=!1,await T(),document.getElementById("min-year-input").value=a("min_year")||"",document.getElementById("max-year-input").value=a("max_year")||""});function C(){$("submit",g.query)}return(l,e)=>{const u=H,c=Q,R=G,y=K,x=X,F=ae;return b(),h("div",null,[o("section",ie,[t(m)?(b(),h("div",de,ce)):(b(),h("div",me,[o("div",ge,[r(u,{title:l.$t("singleDetails.type"),list:t(d).type,"has-default-all":"",searchable:"","selected-option":a("type"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[0]||(e[0]=s=>n("type",s))},null,8,["title","list","selected-option"]),r(u,{title:l.$t("singleDetails.genre"),list:t(d).genre,"has-default-all":"",searchable:"","multi-selection":"","selected-option-array":t(g).query.genre?Array.isArray(t(g).query.genre)?t(g).query.genre:[t(g).query.genre]:void 0,style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[1]||(e[1]=s=>n("genre",s))},null,8,["title","list","selected-option-array"]),r(R,{class:"btn-primary-outline w-[12.5rem] translate-y-3",onClick:C},{default:z(()=>[r(c,{name:"ph:magnifying-glass-fill"}),Y(" "+_(l.$t("search")),1)]),_:1})]),o("div",pe,[r(y,{"initial-value":a("actor"),label:l.$t("singleDetails.actor"),name:"actor",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[2]||(e[2]=s=>n("actor",s))},null,8,["initial-value","label"]),r(y,{"initial-value":a("director"),label:l.$t("singleDetails.director"),name:"director",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[3]||(e[3]=s=>n("director",s))},null,8,["initial-value","label"]),r(y,{"initial-value":a("writer"),label:l.$t("singleDetails.writer"),name:"writer",dimmed:"","label-bg":"bg-bg-11",class:"min-w-[12.5rem]","onUpdate:modelValue":e[4]||(e[4]=s=>n("writer",s))},null,8,["initial-value","label"])]),o("section",{"aria-label":"more options",class:B(["flex max-h-0 transform-gpu flex-col gap-2 overflow-hidden pb-2 transition-all duration-500",{"max-h-[20rem] ":t(f)}])},[o("div",fe,[r(u,{title:l.$t("singleDetails.encoder"),list:t(d).encoder,"has-default-all":"",searchable:"","selected-option":a("encoder"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[5]||(e[5]=s=>n("encoder",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:l.$t("singleDetails.quality"),list:t(d).quality,"has-default-all":"",searchable:"","selected-option":a("quality"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[6]||(e[6]=s=>n("quality",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:l.$t("singleDetails.countries"),list:t(d).country,"has-default-all":"",searchable:"","selected-option":a("country"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[7]||(e[7]=s=>n("country",s[0]))},null,8,["title","list","selected-option"])]),o("div",be,[r(u,{title:l.$t("singleDetails.primaryLanguage"),list:t(d).language,"has-default-all":"",searchable:"","selected-option":a("language"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[8]||(e[8]=s=>n("language",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:l.$t("singleDetails.age"),list:t(d).age,"has-default-all":"",searchable:"","selected-option":a("age"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[9]||(e[9]=s=>n("age",s[0]))},null,8,["title","list","selected-option"]),r(u,{title:l.$t("singleDetails.score"),list:t(d).imdb_rate,"has-default-all":"",searchable:"","selected-option":a("imdb_rate"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[10]||(e[10]=s=>n("imdb_rate",s[0]))},null,8,["title","list","selected-option"])]),o("div",ve,[o("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[14]||(e[14]=s=>{t(i)["3D"]=!t(i)["3D"],n("3D",t(i)["3D"].toString())})},[ye,o("div",xe,[r(x,{modelValue:t(i)["3D"],"onUpdate:modelValue":[e[11]||(e[11]=s=>t(i)["3D"]=s),e[12]||(e[12]=s=>n("3D",s))],onClick:e[13]||(e[13]=q(()=>{},["exact","stop"]))},null,8,["modelValue"])])]),o("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[18]||(e[18]=s=>{t(i).x265=!t(i).x265,n("x265",t(i).x265.toString())})},[_e,o("div",he,[r(x,{modelValue:t(i).x265,"onUpdate:modelValue":[e[15]||(e[15]=s=>t(i).x265=s),e[16]||(e[16]=s=>n("x265",s))],onClick:e[17]||(e[17]=q(()=>{},["exact","stop"]))},null,8,["modelValue"])])]),o("div",{class:"bg-bg-9/50 flex w-[12.5em] cursor-pointer justify-between gap-2 rounded-xl px-2 py-3 text-base",onClick:e[22]||(e[22]=s=>{t(i).stream=!t(i).stream,n("stream",t(i).stream.toString())})},[o("p",we,_(t(D)("streamOnly")),1),o("div",Ce,[r(x,{modelValue:t(i).stream,"onUpdate:modelValue":[e[19]||(e[19]=s=>t(i).stream=s),e[20]||(e[20]=s=>n("stream",s))],onClick:e[21]||(e[21]=q(()=>{},["exact","stop"]))},null,8,["modelValue"])])])]),o("div",$e,[r(u,{title:l.$t("singleDetails.network"),list:t(d).channel,"has-default-all":"",searchable:"","selected-option":a("channel"),style:{foreground:"bg-bg-10",dimmed:!0},onOnChange:e[23]||(e[23]=s=>n("channel",s[0]))},null,8,["title","list","selected-option"]),r(F,{dimmed:""}),o("div",De,[o("fieldset",ke,[o("div",Se,[o("p",Re,_(l.$t("formYear")),1),o("input",{id:"min-year-input",dir:"auto",type:"text",class:"bg-bg-9 placeholder:text-fonts-300 flex w-[4em] rounded-lg py-1 text-center text-xs font-semibold",placeholder:"1890",maxlength:"4",onInput:e[24]||(e[24]=s=>(("useEnforcedNumbers"in l?l.useEnforcedNumbers:t(A)).bind(s.target)(),n("min_year",s.target.value)))},null,32),o("p",Be,_(l.$t("till")),1),o("input",{id:"max-year-input",dir:"auto",type:"text",class:"bg-bg-9 placeholder:text-fonts-300 flex w-[4em] rounded-lg py-1 text-center text-xs font-semibold",placeholder:new Date().getFullYear().toString(),maxlength:"4",onInput:e[25]||(e[25]=s=>(("useEnforcedNumbers"in l?l.useEnforcedNumbers:t(A)).bind(s.target)(),n("max_year",s.target.value)))},null,40,qe)])])])])],2)])),o("span",{class:B(["group absolute left-1/2 top-full flex -translate-x-1/2 cursor-pointer items-center justify-center",{"pointer-events-none":t(m)}]),onClick:e[26]||(e[26]=s=>f.value=!t(f))},[Oe,o("div",Ae,[r(c,{name:"ph:caret-down-bold",class:B(["fill-bg-11 text-2xl transition-transform will-change-transform group-hover:translate-y-[2px]",{"rotate-180 group-hover:!-translate-y-[2px]":t(f),"disable-block":t(m)}])},null,8,["class"])])],2)])])}}});const Ee=ee(Ve,[["__scopeId","data-v-fd397cd6"]]),Ie={class:"flex"},Le={key:0,class:"flex h-full w-full items-center justify-center"},Ne={class:"text-fonts-700 text-5xl font-bold"},Pe={key:1,class:"flex h-full w-full items-center justify-center"},je={class:"text-fonts-700 text-5xl font-bold"},Qe=V({__name:"advanced",setup(w){const{t:$}=E(),D=I(),k=te(),{infiniteScrolling:g}=se();le({title:()=>`${$("seo.30nama")} | ${$("seo.advancedSearch")}`});const v=L(),f=N(),m=p({}),d=p(!1),S=p(),a=p({}),n=p(Number(v.query.page||"1"));function i(e){m.value={},a.value=e,f.replace({query:{...v.query,page:void 0}}),n.value=1,C(1)}async function C(e){d.value=!0;const u=`ADVANCED_SEARCH::${Object.entries(a.value).toString()}::${e}`,c=await j(u,()=>U.API.actions.advanced_search(a.value,a.value.sortBy,"ASC",e));if(d.value=!1,!!c){if(c.error)return D(c.msg,"ERROR");m.value[e]=c.result.posts,S.value={pages:c.result.pages,page:c.result.page,total:c.result.total}}}function l(e){g.value&&C(e)}return P(()=>v.query.page,e=>{g.value||!e||(n.value=e?Number(e):1,C(n.value))}),oe(()=>{const{replaceLastRoute:e}=k;e(v.fullPath)}),(e,u)=>{var y,x;const c=Ee,R=re;return b(),h("div",null,[r(c,{onSubmit:i}),o("section",Ie,[!((y=t(m)[t(n)])!=null&&y.length)&&!Object.keys(t(a)).length&&!t(d)?(b(),h("span",Le,[o("h4",Ne,_(e.$t("searchNow")),1)])):!((x=t(m)[t(n)])!=null&&x.length)&&!t(d)?(b(),h("span",Pe,[o("h4",je,_(t(m)[t(n)]?e.$t("noResult"):e.$t("searchNow")),1)])):(b(),ne(R,{key:2,id:"title-list-result",title:e.$t("searchResults"),aligned:"",icon:"ph:magnifying-glass-fill",style:{background:"bg-bg-12",foreground:"bg-bg-11",shadowBack:"shadow-bg-12",shadowFore:"shadow-bg-11"},"is-loading":t(d),data:t(m),"result-info":t(S),onPageChanged:l},null,8,["title","is-loading","data","result-info"]))])])}}});export{Qe as default};
