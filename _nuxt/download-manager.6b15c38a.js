import{d as Se,m as Ot,n as ne,o as dt,f as to,g as E,h as C,p as Re,q as f,s as Eo,t as Ae,c as oo,v as no,i as D,w as X,j as v,k as $e,x as $t,y as j,z as oe,A as W,B as x,C as ao,T as Do,_ as kt,D as ct,E as ut,G as Pt,H as At,I as Nt,J as ro,K as So,L as Io,M as Co,N as To,O as Oo,P as xt,F as Et,r as Dt,Q as $o,R as ko,S as Po,U as Ao}from"./entry.1e10fd68.js";import{C as Rt,i as Xt}from"./chartjs-plugin-gradient.esm.901c91a3.js";import{_ as No}from"./BaseCircularProgress.vue.7966d879.js";const Mo={class:"relative"},Fo=f("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[f("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[f("canvas",{id:"acquisitions",class:"!w-full"})])],-1),Bo=[Fo],Lo=Se({__name:"DownloadManagerChart",setup(n,{expose:e}){const{disableAnimations:o}=Ot(),t=ne(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const r=u=>{const l=s[u.dataIndex];return`${Re.core.bytesToSize(l)}/s`};dt(()=>{Rt.register(Xt);const u={backgroundColor:`rgb(${t.value})`,borderColor:`rgb(${t.value})`,maintainAspectRatio:!1,animation:{duration:o.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:r}}},responsive:!0};a=new Rt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${t.value} / 0)`,100:`rgb(${t.value} / 0.3)`}}},pointBackgroundColor:`rgb(${t.value})`,fill:!0,label:"",data:[],tension:.4}]},options:u,plugins:[Xt]})}),to(()=>a==null?void 0:a.destroy());const i=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),s=[];function c(){var l;a&&a.data.datasets[0].data.length>=32&&((l=a.data.labels)==null||l.shift(),a.data.datasets[0].data.shift(),a.update()),s.length>=32&&s.shift()}function d(u){c(),a==null||a.data.labels.push(i()),s.push(u);const l=Math.max(...s),g=Math.min(...s);a.data.datasets[0].data.push(Math.floor(Re.core.ILerp(g,l,u,100)));for(let m=0;m<(a==null?void 0:a.data.datasets[0].data.length);m++){const p=Math.floor(Re.core.ILerp(g,l,s[m],100));a.data.datasets[0].data[m]=p}a==null||a.update()}return e({addRecord:d}),(u,l)=>(E(),C("div",Mo,Bo))}}),Me=n=>(Pt("data-v-53b86ea2"),n=n(),At(),n),zo={"aria-label":"downloader",class:"relative flex items-center gap-8"},Ro={class:"relative h-poster-medium w-poster-medium shrink-0 overflow-hidden rounded-xl bg-bg-10"},Xo={class:"relative flex w-full justify-between"},jo={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},Ho=Me(()=>f("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-10 from-20% to-bg-10/0"},null,-1)),Yo=["src"],Wo={class:"relative flex w-full flex-col"},Go={class:"absolute left-3 top-3 flex flex-col gap-2"},Uo={class:"flex items-center gap-2 text-xl font-bold tracking-wider text-fonts-300"},Vo={key:0,class:"line-clamp-1 text-sm font-bold tracking-wider text-fonts-300"},qo={key:0,class:"font-bold tracking-wider text-fonts-300"},Zo={class:"mb-2 mt-16 h-full w-full"},Ko={class:"mb-1 p-4"},Qo={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/20"},Jo={key:0,class:"progress-holder absolute h-full w-full bg-bg-1/30"},en={class:"relative flex flex-col justify-between p-2 transition-opacity"},tn={class:"flex flex-row items-center gap-2"},on={class:"relative flex flex-col items-center"},nn={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},an={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},rn=Me(()=>f("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),ln={class:"flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},sn={class:"flex flex-col items-center"},dn={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},cn=Me(()=>f("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),un={class:"flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},fn={class:"relative flex items-center justify-center"},pn={class:"local-numbers text-6xl font-bold"},hn=Me(()=>f("span",{class:"absolute h-16 w-16 translate-y-2 rounded-full bg-bg-1/20 blur-xl"},null,-1)),gn={class:"flex flex-col items-center"},mn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},vn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},_n=Me(()=>f("svg",{class:"absolute right-[20vw] top-full z-10 w-[3rem] fill-bg-10",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),bn=Me(()=>f("svg",{class:"absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem] fill-bg-10",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),wn={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},yn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},xn={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},En={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},Dn=Se({__name:"DownloadManagerDownloader",setup(n){const e=Eo(),{bytesToSize:o}=Re.core,{scheduledDownloadables:t,unscheduledDownloadables:a,activeDownloadable:r,changeUpdater:i,downloadAction:s}=Ae(),{downloadSpeedLimit:c}=Ot(),d=oo(()=>e.progress),u=ne();no(d,m=>{var p;(m==null?void 0:m.status)==="active"&&((p=u.value)==null||p.addRecord(m.downloadSpeed))});async function l(){var p;const m=((p=e.progress)==null?void 0:p.status)==="active"?"pause":"unpause";await s(m),m==="pause"?(await i("stop"),d.value.downloadSpeed=0):i("start")}async function g(){await i("stop"),s("remove"),e.progress=void 0,r!=null&&r.value&&(r.value.downloading=!1),e.activeGID=void 0;const m=t.value[0],p=t.value.indexOf(m);t.value.splice(p,1),a.value.unshift(m)}return(m,p)=>{var N,L,ae,G,re,pe,z,he,Q,ge,Z,ie,me,J,ye,ve;const w=kt,O=Lo,P=ct,T=ut;return E(),C("section",zo,[D(w,{to:`/single/${(N=v(r))==null?void 0:N.postId}`,class:oe([{"pointer-events-none opacity-20 grayscale":!v(r)}])},{default:X(()=>{var ee,Ie,Fe;return[f("div",Ro,[(ee=v(r))!=null&&ee.image.poster.webp?(E(),$e(v($t),{key:0,src:(Ie=v(r))==null?void 0:Ie.image.poster.webp,punch:1,hash:(Fe=v(r))==null?void 0:Fe.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":258,"width-size":172},null,8,["src","hash"])):j("",!0)])]}),_:1},8,["to","class"]),f("div",Xo,[f("section",{"aria-label":"download info",class:oe(["ltr-dir relative flex h-poster-medium w-full justify-between rounded-2xl bg-bg-10 shadow-lg",[{"pointer-events-none opacity-20 grayscale":!v(r)}]])},[f("div",jo,[Ho,(L=v(r))!=null&&L.image.cover?(E(),C("img",{key:0,src:(ae=v(r))==null?void 0:ae.image.cover,class:"h-full w-full object-cover",alt:""},null,8,Yo)):j("",!0)]),f("div",Wo,[f("div",Go,[f("h5",Uo,[W(x((G=v(r))==null?void 0:G.title)+" ",1),(re=v(r))!=null&&re.episode?(E(),C("p",Vo,x(`S${v(r).season}E${v(r).episode}`),1)):j("",!0)]),(pe=v(r))!=null&&pe.size?(E(),C("h5",qo,x((z=v(r))==null?void 0:z.size),1)):j("",!0)]),f("div",Zo,[D(O,{ref_key:"chart",ref:u,class:"h-full w-full"},null,512)]),f("div",Ko,[f("span",Qo,[D(Do,{name:"fade-preset",mode:"out-in"},{default:X(()=>{var ee,Ie;return[((ee=v(d))==null?void 0:ee.status)==="preparing"?(E(),C("span",Jo)):(E(),C("span",{key:1,class:"absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500/80",style:ao(`transform: scaleX(${(((Ie=v(d))==null?void 0:Ie.percent)||0)/100})`)},null,4))]}),_:1})])])]),f("div",en,[f("div",{class:oe({" opacity-50":((he=v(d))==null?void 0:he.status)==="preparing"})},[f("ul",tn,[f("li",on,[f("span",nn,[D(P,{name:"ph:gauge-fill",class:"text-2xl text-fonts-100"}),D(T,{placement:"top"},{default:X(()=>[W(x(m.$t("downloadSpeed")),1)]),_:1})]),v(c)?(E(),C("span",an,[D(T,{placement:"top"},{default:X(()=>[W(x(m.$t("speedLimiterIsActive")),1)]),_:1})])):j("",!0),rn,f("p",ln,x(v(o)(((Q=v(d))==null?void 0:Q.downloadSpeed)||0))+"/s ",1)]),f("li",sn,[f("span",dn,[D(P,{name:"ph:download-fill",class:"text-2xl text-fonts-100"}),D(T,{placement:"top"},{default:X(()=>[W(x(m.$t("size")),1)]),_:1})]),cn,f("p",un,x(v(o)(((ge=v(d))==null?void 0:ge.completedLength)||0)),1)])])],2),f("div",{class:oe(["flex flex-col items-center",{" opacity-50":((Z=v(d))==null?void 0:Z.status)==="preparing"}])},[f("div",fn,[f("h4",pn,x(((ie=v(d))==null?void 0:ie.percent)||0)+"%",1),hn])],2),f("div",gn,[f("ul",{class:oe(["flex gap-3",[{disabled:!v(r)},{invisible:!v(r)}]])},[f("li",{class:oe([{"pointer-events-none":!v(d)||v(d).status==="preparing"},{" opacity-50":((me=v(d))==null?void 0:me.status)==="preparing"}]),onClick:p[0]||(p[0]=ee=>l())},[f("div",mn,[((J=v(d))==null?void 0:J.status)==="active"?(E(),$e(P,{key:0,name:"ph:pause-fill",class:"text-md text-fonts-100"})):((ye=v(d))==null?void 0:ye.status)==="paused"?(E(),$e(P,{key:1,name:"ph:play-fill",class:"text-md text-fonts-100"})):(E(),$e(P,{key:2,name:"ph:pause-fill",class:"text-md text-fonts-100"})),D(T,{placement:"top"},{default:X(()=>{var ee;return[W(x(((ee=v(d))==null?void 0:ee.status)==="active"?m.$t("pauseDownload"):m.$t("resumeDownload")),1)]}),_:1})])],2),f("li",{onClick:g},[f("div",vn,[D(P,{name:"ph:x-bold",class:"text-md text-fonts-100"}),D(T,{placement:"top"},{default:X(()=>[W(x(m.$t("cancel")),1)]),_:1})])])],2)])]),_n,bn],2),v(r)?j("",!0):(E(),C("span",wn,[f("h4",yn,x(m.$t("youHaveNoActiveDownload")),1)])),((ve=v(d))==null?void 0:ve.status)==="preparing"?(E(),C("span",xn,[f("h4",En,x(m.$t("preparingDownload")),1)])):j("",!0)])])}}});const Sn=Nt(Dn,[["__scopeId","data-v-53b86ea2"]]),Mt=n=>(Pt("data-v-349c6a86"),n=n(),At(),n),In={key:0,class:"flex items-center gap-8 w-full h-full"},Cn={class:"h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg bg-bg-8"},Tn={class:"relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl bg-bg-11"},On={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},$n=Mt(()=>f("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-11 from-20% to-bg-11/0"},null,-1)),kn=["src"],Pn={class:"drag-target h-full w-full p-4"},An={class:"relative flex flex-col"},Nn={key:0,class:"ltr-dir line-clamp-1 text-base font-bold text-fonts-300"},Mn={class:"ltr-dir line-clamp-1 text-left text-base font-bold text-fonts-300"},Fn={class:"ltr-dir text-base font-semibold"},Bn={key:0},Ln=Mt(()=>f("span",{class:"text-fonts-300"}," / ",-1)),zn={class:"text-fonts-300"},Rn=Mt(()=>f("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[f("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),f("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),f("span",{class:"h-1 w-6 rounded-full bg-bg-9"})],-1)),Xn={class:"flex p-4"},jn={class:"absolute bottom-full right-0 flex items-center gap-2"},Hn={class:"local-numbers"},Yn={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/10"},Wn={class:"flex items-center gap-2"},Gn=Se({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(n,{expose:e}){const o=n,{scheduledDownloadables:t,unscheduledDownloadables:a}=Ae(),{optimizedDownloadlist:r}=Ot(),i=ro();function s(){t&&(t.value=t.value.filter(p=>p.id!==o.data.id)),a&&(a.value=a.value.filter(p=>p.id!==o.data.id))}function c(){if(!t||!a)return;const p=a.value.find(O=>O.id===o.data.id),w=t.value.find(O=>O.id===o.data.id);p?(t.value=[p,...t.value],a.value=a.value.filter(O=>O.id!==o.data.id),p.id=new Date().getTime()):w&&(t.value=t.value.filter(O=>O.id!==o.data.id),t.value=[w,...t.value],w.id=new Date().getTime())}const d=ne(!1),u=ne();let l;dt(()=>{r.value&&(l=new IntersectionObserver(p=>{const w=p[0];d.value=w.isIntersecting},{threshold:0}),u.value&&l.observe(u.value))});function g(){r.value&&setTimeout(()=>{u.value&&l.observe(u.value)},300)}function m(){r.value&&(u.value&&l.unobserve(u.value),d.value=!0)}return e({observeItem:g,removeObserveItem:m}),(p,w)=>{const O=kt,P=ct,T=ut;return E(),C("section",{ref_key:"downloadItem",ref:u,"aria-label":"download item",class:"flex flex-col w-full items-center gap-8 h-[9rem]"},[!v(r)||v(d)?(E(),C("div",In,[D(O,{to:`/single/${p.data.postId}`},{default:X(()=>[f("div",Cn,[D(v($t),{src:p.data.image.poster.webp,punch:1,hash:p.data.image.poster.preview,class:"h-full","res-x":5,"res-y":5,"remove-canvas":"",duration:1e3,"height-size":135,"width-size":90},null,8,["src","hash"])])]),_:1},8,["to"]),f("div",Tn,[f("div",On,[$n,p.data.image.cover?(E(),C("img",{key:0,src:p.data.image.cover,class:"h-full w-full object-cover",loading:"lazy",alt:""},null,8,kn)):j("",!0)]),f("span",Pn,[f("div",An,[f("h6",{class:oe(["ltr-dir line-clamp-1 break-all",p.data.title.length>25?"text-lg":"text-xl"])},x(p.data.title),3),p.data.season!==void 0&&p.data.episode!==void 0?(E(),C("p",Nn,"S"+x(p.data.season)+"E"+x(p.data.episode),1)):j("",!0),f("p",Mn,x(p.data.quality),1),f("p",Fn,[p.data.progress?(E(),C("span",Bn,[W(x(p.data.progress.downloaded)+" ",1),Ln])):j("",!0),f("span",zn,x(p.data.size),1)])]),Rn]),f("div",Xn,[f("ul",{class:oe(["flex items-center gap-2",{"drag-target":!p.data.error}])},[f("li",{class:oe(["flex cursor-pointer items-center justify-center rounded-full p-2 transition-all hover:bg-bg-9",{invisible:!p.data.error}]),onClick:w[0]||(w[0]=N=>v(i).toggleMessage(!0,p.data.error,"code"))},[D(P,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),D(T,{placement:"top"},{default:X(()=>[W(x(p.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),p.data.progress?(E(),C("li",{key:0,class:"progress relative mx-4 w-48",onClick:w[1]||(w[1]=N=>v(i).toggleMessage(!0))},[f("div",jn,[f("span",Hn,x(p.data.progress.percent)+"%",1)]),f("span",Yn,[f("span",{class:"full absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500",style:ao(`transform: scaleX(${p.data.progress.percent/100})`)},null,4)])])):j("",!0)],2),f("ul",Wn,[f("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:s},[D(P,{name:"ph:trash-fill",class:"text-xl text-fonts-100"}),D(T,{placement:"top"},{default:X(()=>[W(x(p.$t("deleteFromList")),1)]),_:1})]),f("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:c},[D(P,{name:"ph:download-simple-fill",class:"text-xl text-fonts-100"}),D(T,{placement:"top"},{default:X(()=>[W(x(p.$t("downloadNow")),1)]),_:1})])])])])])):j("",!0)],512)}}});const jt=Nt(Gn,[["__scopeId","data-v-349c6a86"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ht(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),o.push.apply(o,t)}return o}function de(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(o),!0).forEach(function(t){Un(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ht(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Qe(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(e){return typeof e}:Qe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(n)}function Un(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function ue(){return ue=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n},ue.apply(this,arguments)}function Vn(n,e){if(n==null)return{};var o={},t=Object.keys(n),a,r;for(r=0;r<t.length;r++)a=t[r],!(e.indexOf(a)>=0)&&(o[a]=n[a]);return o}function qn(n,e){if(n==null)return{};var o=Vn(n,e),t,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)t=r[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var Zn="1.15.0";function ce(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var fe=ce(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ge=ce(/Edge/i),Yt=ce(/firefox/i),Xe=ce(/safari/i)&&!ce(/chrome/i)&&!ce(/android/i),io=ce(/iP(ad|od|hone)/i),lo=ce(/chrome/i)&&ce(/android/i),so={capture:!1,passive:!1};function I(n,e,o){n.addEventListener(e,o,!fe&&so)}function S(n,e,o){n.removeEventListener(e,o,!fe&&so)}function nt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Kn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function le(n,e,o,t){if(n){o=o||document;do{if(e!=null&&(e[0]===">"?n.parentNode===o&&nt(n,e):nt(n,e))||t&&n===o)return n;if(n===o)break}while(n=Kn(n))}return null}var Wt=/\s+/g;function U(n,e,o){if(n&&e)if(n.classList)n.classList[o?"add":"remove"](e);else{var t=(" "+n.className+" ").replace(Wt," ").replace(" "+e+" "," ");n.className=(t+(o?" "+e:"")).replace(Wt," ")}}function _(n,e,o){var t=n&&n.style;if(t){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(o=n.currentStyle),e===void 0?o:o[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=o+(typeof o=="string"?"":"px")}}function Pe(n,e){var o="";if(typeof n=="string")o=n;else do{var t=_(n,"transform");t&&t!=="none"&&(o=t+" "+o)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function co(n,e,o){if(n){var t=n.getElementsByTagName(e),a=0,r=t.length;if(o)for(;a<r;a++)o(t[a],a);return t}return[]}function se(){var n=document.scrollingElement;return n||document.documentElement}function F(n,e,o,t,a){if(!(!n.getBoundingClientRect&&n!==window)){var r,i,s,c,d,u,l;if(n!==window&&n.parentNode&&n!==se()?(r=n.getBoundingClientRect(),i=r.top,s=r.left,c=r.bottom,d=r.right,u=r.height,l=r.width):(i=0,s=0,c=window.innerHeight,d=window.innerWidth,u=window.innerHeight,l=window.innerWidth),(e||o)&&n!==window&&(a=a||n.parentNode,!fe))do if(a&&a.getBoundingClientRect&&(_(a,"transform")!=="none"||o&&_(a,"position")!=="static")){var g=a.getBoundingClientRect();i-=g.top+parseInt(_(a,"border-top-width")),s-=g.left+parseInt(_(a,"border-left-width")),c=i+r.height,d=s+r.width;break}while(a=a.parentNode);if(t&&n!==window){var m=Pe(a||n),p=m&&m.a,w=m&&m.d;m&&(i/=w,s/=p,l/=p,u/=w,c=i+u,d=s+l)}return{top:i,left:s,bottom:c,right:d,width:l,height:u}}}function Gt(n,e,o){for(var t=we(n,!0),a=F(n)[e];t;){var r=F(t)[o],i=void 0;if(o==="top"||o==="left"?i=a>=r:i=a<=r,!i)return t;if(t===se())break;t=we(t,!1)}return!1}function Ne(n,e,o,t){for(var a=0,r=0,i=n.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==b.ghost&&(t||i[r]!==b.dragged)&&le(i[r],o.draggable,n,!1)){if(a===e)return i[r];a++}r++}return null}function Ft(n,e){for(var o=n.lastElementChild;o&&(o===b.ghost||_(o,"display")==="none"||e&&!nt(o,e));)o=o.previousElementSibling;return o||null}function K(n,e){var o=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==b.clone&&(!e||nt(n,e))&&o++;return o}function Ut(n){var e=0,o=0,t=se();if(n)do{var a=Pe(n),r=a.a,i=a.d;e+=n.scrollLeft*r,o+=n.scrollTop*i}while(n!==t&&(n=n.parentNode));return[e,o]}function Qn(n,e){for(var o in n)if(n.hasOwnProperty(o)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n[o][t])return Number(o)}return-1}function we(n,e){if(!n||!n.getBoundingClientRect)return se();var o=n,t=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=_(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return se();if(t||e)return o;t=!0}}while(o=o.parentNode);return se()}function Jn(n,e){if(n&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function pt(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var je;function uo(n,e){return function(){if(!je){var o=arguments,t=this;o.length===1?n.call(t,o[0]):n.apply(t,o),je=setTimeout(function(){je=void 0},e)}}}function ea(){clearTimeout(je),je=void 0}function fo(n,e,o){n.scrollLeft+=e,n.scrollTop+=o}function po(n){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):o?o(n).clone(!0)[0]:n.cloneNode(!0)}var q="Sortable"+new Date().getTime();function ta(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(a){if(!(_(a,"display")==="none"||a===b.ghost)){n.push({target:a,rect:F(a)});var r=de({},n[n.length-1].rect);if(a.thisAnimationDuration){var i=Pe(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(Qn(n,{target:t}),1)},animateAll:function(t){var a=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var r=!1,i=0;n.forEach(function(s){var c=0,d=s.target,u=d.fromRect,l=F(d),g=d.prevFromRect,m=d.prevToRect,p=s.rect,w=Pe(d,!0);w&&(l.top-=w.f,l.left-=w.e),d.toRect=l,d.thisAnimationDuration&&pt(g,l)&&!pt(u,l)&&(p.top-l.top)/(p.left-l.left)===(u.top-l.top)/(u.left-l.left)&&(c=na(p,g,m,a.options)),pt(l,u)||(d.prevFromRect=u,d.prevToRect=l,c||(c=a.options.animation),a.animate(d,p,l,c)),c&&(r=!0,i=Math.max(i,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof t=="function"&&t()},i):typeof t=="function"&&t(),n=[]},animate:function(t,a,r,i){if(i){_(t,"transition",""),_(t,"transform","");var s=Pe(this.el),c=s&&s.a,d=s&&s.d,u=(a.left-r.left)/(c||1),l=(a.top-r.top)/(d||1);t.animatingX=!!u,t.animatingY=!!l,_(t,"transform","translate3d("+u+"px,"+l+"px,0)"),this.forRepaintDummy=oa(t),_(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),_(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){_(t,"transition",""),_(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i)}}}}function oa(n){return n.offsetWidth}function na(n,e,o,t){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*t.animation}var Ce=[],ht={initializeByDefault:!0},Ue={mount:function(e){for(var o in ht)ht.hasOwnProperty(o)&&!(o in e)&&(e[o]=ht[o]);Ce.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ce.push(e)},pluginEvent:function(e,o,t){var a=this;this.eventCanceled=!1,t.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Ce.forEach(function(i){o[i.pluginName]&&(o[i.pluginName][r]&&o[i.pluginName][r](de({sortable:o},t)),o.options[i.pluginName]&&o[i.pluginName][e]&&o[i.pluginName][e](de({sortable:o},t)))})},initializePlugins:function(e,o,t,a){Ce.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var d=new s(e,o,e.options);d.sortable=e,d.options=e.options,e[c]=d,ue(t,d.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,o){var t={};return Ce.forEach(function(a){typeof a.eventProperties=="function"&&ue(t,a.eventProperties.call(o[a.pluginName],e))}),t},modifyOption:function(e,o,t){var a;return Ce.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(a=r.optionListeners[o].call(e[r.pluginName],t))}),a}};function aa(n){var e=n.sortable,o=n.rootEl,t=n.name,a=n.targetEl,r=n.cloneEl,i=n.toEl,s=n.fromEl,c=n.oldIndex,d=n.newIndex,u=n.oldDraggableIndex,l=n.newDraggableIndex,g=n.originalEvent,m=n.putSortable,p=n.extraEventProperties;if(e=e||o&&o[q],!!e){var w,O=e.options,P="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!fe&&!Ge?w=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(t,!0,!0)),w.to=i||o,w.from=s||o,w.item=a||o,w.clone=r,w.oldIndex=c,w.newIndex=d,w.oldDraggableIndex=u,w.newDraggableIndex=l,w.originalEvent=g,w.pullMode=m?m.lastPutMode:void 0;var T=de(de({},p),Ue.getEventProperties(t,e));for(var N in T)w[N]=T[N];o&&o.dispatchEvent(w),O[P]&&O[P].call(e,w)}}var ra=["evt"],Y=function(e,o){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=t.evt,r=qn(t,ra);Ue.pluginEvent.bind(b)(e,o,de({dragEl:h,parentEl:A,ghostEl:y,rootEl:$,nextEl:De,lastDownEl:Je,cloneEl:k,cloneHidden:be,dragStarted:Be,putSortable:B,activeSortable:b.active,originalEvent:a,oldIndex:ke,oldDraggableIndex:He,newIndex:V,newDraggableIndex:_e,hideGhostForTarget:vo,unhideGhostForTarget:_o,cloneNowHidden:function(){be=!0},cloneNowShown:function(){be=!1},dispatchSortableEvent:function(s){H({sortable:o,name:s,originalEvent:a})}},r))};function H(n){aa(de({putSortable:B,cloneEl:k,targetEl:h,rootEl:$,oldIndex:ke,oldDraggableIndex:He,newIndex:V,newDraggableIndex:_e},n))}var h,A,y,$,De,Je,k,be,ke,V,He,_e,Ve,B,Oe=!1,at=!1,rt=[],xe,te,gt,mt,Vt,qt,Be,Te,Ye,We=!1,qe=!1,et,R,vt=[],St=!1,it=[],ft=typeof document<"u",Ze=io,Zt=Ge||fe?"cssFloat":"float",ia=ft&&!lo&&!io&&"draggable"in document.createElement("div"),ho=function(){if(ft){if(fe)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),go=function(e,o){var t=_(e),a=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),r=Ne(e,0,o),i=Ne(e,1,o),s=r&&_(r),c=i&&_(i),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+F(r).width,u=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+F(i).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var l=s.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===l)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=a&&t[Zt]==="none"||i&&t[Zt]==="none"&&d+u>a)?"vertical":"horizontal"},la=function(e,o,t){var a=t?e.left:e.top,r=t?e.right:e.bottom,i=t?e.width:e.height,s=t?o.left:o.top,c=t?o.right:o.bottom,d=t?o.width:o.height;return a===s||r===c||a+i/2===s+d/2},sa=function(e,o){var t;return rt.some(function(a){var r=a[q].options.emptyInsertThreshold;if(!(!r||Ft(a))){var i=F(a),s=e>=i.left-r&&e<=i.right+r,c=o>=i.top-r&&o<=i.bottom+r;if(s&&c)return t=a}}),t},mo=function(e){function o(r,i){return function(s,c,d,u){var l=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(r==null&&(i||l))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return o(r(s,c,d,u),i)(s,c,d,u);var g=(i?s:c).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var t={},a=e.group;(!a||Qe(a)!="object")&&(a={name:a}),t.name=a.name,t.checkPull=o(a.pull,!0),t.checkPut=o(a.put),t.revertClone=a.revertClone,e.group=t},vo=function(){!ho&&y&&_(y,"display","none")},_o=function(){!ho&&y&&_(y,"display","")};ft&&!lo&&document.addEventListener("click",function(n){if(at)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),at=!1,!1},!0);var Ee=function(e){if(h){e=e.touches?e.touches[0]:e;var o=sa(e.clientX,e.clientY);if(o){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[q]._onDragOver(t)}}},da=function(e){h&&h.parentNode[q]._isOutsideThisEl(e.target)};function b(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ue({},e),n[q]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return go(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:b.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};Ue.initializePlugins(this,n,o);for(var t in o)!(t in e)&&(e[t]=o[t]);mo(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ia,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?I(n,"pointerdown",this._onTapStart):(I(n,"mousedown",this._onTapStart),I(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(n,"dragover",this),I(n,"dragenter",this)),rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ue(this,ta())}b.prototype={constructor:b,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Te=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,a=this.options,r=a.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,u=a.filter;if(va(t),!h&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Xe&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=le(c,a.draggable,t,!1),!(c&&c.animated)&&Je!==c)){if(ke=K(c),He=K(c,a.draggable),typeof u=="function"){if(u.call(this,e,c,this)){H({sortable:o,rootEl:d,name:"filter",targetEl:c,toEl:t,fromEl:t}),Y("filter",o,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(l){if(l=le(d,l.trim(),t,!1),l)return H({sortable:o,rootEl:l,name:"filter",targetEl:c,fromEl:t,toEl:t}),Y("filter",o,{evt:e}),!0}),u)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!le(d,a.handle,t,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,o,t){var a=this,r=a.el,i=a.options,s=r.ownerDocument,c;if(t&&!h&&t.parentNode===r){var d=F(t);if($=r,h=t,A=h.parentNode,De=h.nextSibling,Je=t,Ve=i.group,b.dragged=h,xe={target:h,clientX:(o||e).clientX,clientY:(o||e).clientY},Vt=xe.clientX-d.left,qt=xe.clientY-d.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,h.style["will-change"]="all",c=function(){if(Y("delayEnded",a,{evt:e}),b.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Yt&&a.nativeDraggable&&(h.draggable=!0),a._triggerDragStart(e,o),H({sortable:a,name:"choose",originalEvent:e}),U(h,i.chosenClass,!0)},i.ignore.split(",").forEach(function(u){co(h,u.trim(),_t)}),I(s,"dragover",Ee),I(s,"mousemove",Ee),I(s,"touchmove",Ee),I(s,"mouseup",a._onDrop),I(s,"touchend",a._onDrop),I(s,"touchcancel",a._onDrop),Yt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),Y("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ge||fe))){if(b.eventCanceled){this._onDrop();return}I(s,"mouseup",a._disableDelayedDrag),I(s,"touchend",a._disableDelayedDrag),I(s,"touchcancel",a._disableDelayedDrag),I(s,"mousemove",a._delayedDragTouchMoveHandler),I(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&I(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&_t(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):o?I(document,"touchmove",this._onTouchMove):I(document,"mousemove",this._onTouchMove):(I(h,"dragend",this),I($,"dragstart",this._onDragStart));try{document.selection?tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Oe=!1,$&&h){Y("dragStarted",this,{evt:o}),this.nativeDraggable&&I(document,"dragover",da);var t=this.options;!e&&U(h,t.dragClass,!1),U(h,t.ghostClass,!0),b.active=this,e&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(te){this._lastX=te.clientX,this._lastY=te.clientY,vo();for(var e=document.elementFromPoint(te.clientX,te.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(te.clientX,te.clientY),e!==o);)o=e;if(h.parentNode[q]._isOutsideThisEl(e),o)do{if(o[q]){var t=void 0;if(t=o[q]._onDragOver({clientX:te.clientX,clientY:te.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);_o()}},_onTouchMove:function(e){if(xe){var o=this.options,t=o.fallbackTolerance,a=o.fallbackOffset,r=e.touches?e.touches[0]:e,i=y&&Pe(y,!0),s=y&&i&&i.a,c=y&&i&&i.d,d=Ze&&R&&Ut(R),u=(r.clientX-xe.clientX+a.x)/(s||1)+(d?d[0]-vt[0]:0)/(s||1),l=(r.clientY-xe.clientY+a.y)/(c||1)+(d?d[1]-vt[1]:0)/(c||1);if(!b.active&&!Oe){if(t&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(y){i?(i.e+=u-(gt||0),i.f+=l-(mt||0)):i={a:1,b:0,c:0,d:1,e:u,f:l};var g="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");_(y,"webkitTransform",g),_(y,"mozTransform",g),_(y,"msTransform",g),_(y,"transform",g),gt=u,mt=l,te=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:$,o=F(h,!0,Ze,!0,e),t=this.options;if(Ze){for(R=e;_(R,"position")==="static"&&_(R,"transform")==="none"&&R!==document;)R=R.parentNode;R!==document.body&&R!==document.documentElement?(R===document&&(R=se()),o.top+=R.scrollTop,o.left+=R.scrollLeft):R=se(),vt=Ut(R)}y=h.cloneNode(!0),U(y,t.ghostClass,!1),U(y,t.fallbackClass,!0),U(y,t.dragClass,!0),_(y,"transition",""),_(y,"transform",""),_(y,"box-sizing","border-box"),_(y,"margin",0),_(y,"top",o.top),_(y,"left",o.left),_(y,"width",o.width),_(y,"height",o.height),_(y,"opacity","0.8"),_(y,"position",Ze?"absolute":"fixed"),_(y,"zIndex","100000"),_(y,"pointerEvents","none"),b.ghost=y,e.appendChild(y),_(y,"transform-origin",Vt/parseInt(y.style.width)*100+"% "+qt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,a=e.dataTransfer,r=t.options;if(Y("dragStart",this,{evt:e}),b.eventCanceled){this._onDrop();return}Y("setupClone",this),b.eventCanceled||(k=po(h),k.removeAttribute("id"),k.draggable=!1,k.style["will-change"]="",this._hideClone(),U(k,this.options.chosenClass,!1),b.clone=k),t.cloneId=tt(function(){Y("clone",t),!b.eventCanceled&&(t.options.removeCloneOnHide||$.insertBefore(k,h),t._hideClone(),H({sortable:t,name:"clone"}))}),!o&&U(h,r.dragClass,!0),o?(at=!0,t._loopId=setInterval(t._emulateDragOver,50)):(S(document,"mouseup",t._onDrop),S(document,"touchend",t._onDrop),S(document,"touchcancel",t._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(t,a,h)),I(document,"drop",t),_(h,"transform","translateZ(0)")),Oe=!0,t._dragStartId=tt(t._dragStarted.bind(t,o,e)),I(document,"selectstart",t),Be=!0,Xe&&_(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,t=e.target,a,r,i,s=this.options,c=s.group,d=b.active,u=Ve===c,l=s.sort,g=B||d,m,p=this,w=!1;if(St)return;function O(ve,ee){Y(ve,p,de({evt:e,isOwner:u,axis:m?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:l,fromSortable:g,target:t,completed:T,onMove:function(Fe,xo){return Ke($,o,h,a,Fe,F(Fe),e,xo)},changed:N},ee))}function P(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==g&&g.captureAnimationState()}function T(ve){return O("dragOverCompleted",{insertion:ve}),ve&&(u?d._hideClone():d._showClone(p),p!==g&&(U(h,B?B.options.ghostClass:d.options.ghostClass,!1),U(h,s.ghostClass,!0)),B!==p&&p!==b.active?B=p:p===b.active&&B&&(B=null),g===p&&(p._ignoreWhileAnimating=t),p.animateAll(function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(t===h&&!h.animated||t===o&&!t.animated)&&(Te=null),!s.dragoverBubble&&!e.rootEl&&t!==document&&(h.parentNode[q]._isOutsideThisEl(e.target),!ve&&Ee(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function N(){V=K(h),_e=K(h,s.draggable),H({sortable:p,name:"change",toEl:o,newIndex:V,newDraggableIndex:_e,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=le(t,s.draggable,o,!0),O("dragOver"),b.eventCanceled)return w;if(h.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||p._ignoreWhileAnimating===t)return T(!1);if(at=!1,d&&!s.disabled&&(u?l||(i=A!==$):B===this||(this.lastPutMode=Ve.checkPull(this,d,h,e))&&c.checkPut(this,d,h,e))){if(m=this._getDirection(e,t)==="vertical",a=F(h),O("dragOverValid"),b.eventCanceled)return w;if(i)return A=$,P(),this._hideClone(),O("revert"),b.eventCanceled||(De?$.insertBefore(h,De):$.appendChild(h)),T(!0);var L=Ft(o,s.draggable);if(!L||pa(e,m,this)&&!L.animated){if(L===h)return T(!1);if(L&&o===e.target&&(t=L),t&&(r=F(t)),Ke($,o,h,a,t,r,e,!!t)!==!1)return P(),L&&L.nextSibling?o.insertBefore(h,L.nextSibling):o.appendChild(h),A=o,N(),T(!0)}else if(L&&fa(e,m,this)){var ae=Ne(o,0,s,!0);if(ae===h)return T(!1);if(t=ae,r=F(t),Ke($,o,h,a,t,r,e,!1)!==!1)return P(),o.insertBefore(h,ae),A=o,N(),T(!0)}else if(t.parentNode===o){r=F(t);var G=0,re,pe=h.parentNode!==o,z=!la(h.animated&&h.toRect||a,t.animated&&t.toRect||r,m),he=m?"top":"left",Q=Gt(t,"top","top")||Gt(h,"top","top"),ge=Q?Q.scrollTop:void 0;Te!==t&&(re=r[he],We=!1,qe=!z&&s.invertSwap||pe),G=ha(e,t,r,m,z?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,qe,Te===t);var Z;if(G!==0){var ie=K(h);do ie-=G,Z=A.children[ie];while(Z&&(_(Z,"display")==="none"||Z===y))}if(G===0||Z===t)return T(!1);Te=t,Ye=G;var me=t.nextElementSibling,J=!1;J=G===1;var ye=Ke($,o,h,a,t,r,e,J);if(ye!==!1)return(ye===1||ye===-1)&&(J=ye===1),St=!0,setTimeout(ua,30),P(),J&&!me?o.appendChild(h):t.parentNode.insertBefore(h,J?me:t),Q&&fo(Q,0,ge-Q.scrollTop),A=h.parentNode,re!==void 0&&!qe&&(et=Math.abs(re-F(t)[he])),N(),T(!0)}if(o.contains(h))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Ee),S(document,"mousemove",Ee),S(document,"touchmove",Ee)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;if(V=K(h),_e=K(h,t.draggable),Y("drop",this,{evt:e}),A=h&&h.parentNode,V=K(h),_e=K(h,t.draggable),b.eventCanceled){this._nulling();return}Oe=!1,qe=!1,We=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),It(this.cloneId),It(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&_(document.body,"user-select",""),_(h,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),($===A||B&&B.lastPutMode!=="clone")&&k&&k.parentNode&&k.parentNode.removeChild(k),h&&(this.nativeDraggable&&S(h,"dragend",this),_t(h),h.style["will-change"]="",Be&&!Oe&&U(h,B?B.options.ghostClass:this.options.ghostClass,!1),U(h,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:A,newIndex:null,newDraggableIndex:null,originalEvent:e}),$!==A?(V>=0&&(H({rootEl:A,name:"add",toEl:A,fromEl:$,originalEvent:e}),H({sortable:this,name:"remove",toEl:A,originalEvent:e}),H({rootEl:A,name:"sort",toEl:A,fromEl:$,originalEvent:e}),H({sortable:this,name:"sort",toEl:A,originalEvent:e})),B&&B.save()):V!==ke&&V>=0&&(H({sortable:this,name:"update",toEl:A,originalEvent:e}),H({sortable:this,name:"sort",toEl:A,originalEvent:e})),b.active&&((V==null||V===-1)&&(V=ke,_e=He),H({sortable:this,name:"end",toEl:A,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Y("nulling",this),$=h=A=y=De=k=Je=be=xe=te=Be=V=_e=ke=He=Te=Ye=B=Ve=b.dragged=b.ghost=b.clone=b.active=null,it.forEach(function(e){e.checked=!0}),it.length=gt=mt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),ca(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,t=this.el.children,a=0,r=t.length,i=this.options;a<r;a++)o=t[a],le(o,i.draggable,this.el,!1)&&e.push(o.getAttribute(i.dataIdAttr)||ma(o));return e},sort:function(e,o){var t={},a=this.el;this.toArray().forEach(function(r,i){var s=a.children[i];le(s,this.options.draggable,a,!1)&&(t[r]=s)},this),o&&this.captureAnimationState(),e.forEach(function(r){t[r]&&(a.removeChild(t[r]),a.appendChild(t[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return le(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(o===void 0)return t[e];var a=Ue.modifyOption(this,e,o);typeof a<"u"?t[e]=a:t[e]=o,e==="group"&&mo(t)},destroy:function(){Y("destroy",this);var e=this.el;e[q]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rt.splice(rt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!be){if(Y("hideClone",this),b.eventCanceled)return;_(k,"display","none"),this.options.removeCloneOnHide&&k.parentNode&&k.parentNode.removeChild(k),be=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(be){if(Y("showClone",this),b.eventCanceled)return;h.parentNode==$&&!this.options.group.revertClone?$.insertBefore(k,h):De?$.insertBefore(k,De):$.appendChild(k),this.options.group.revertClone&&this.animate(h,k),_(k,"display",""),be=!1}}};function ca(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ke(n,e,o,t,a,r,i,s){var c,d=n[q],u=d.options.onMove,l;return window.CustomEvent&&!fe&&!Ge?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=o,c.draggedRect=t,c.related=a||e,c.relatedRect=r||F(e),c.willInsertAfter=s,c.originalEvent=i,n.dispatchEvent(c),u&&(l=u.call(d,c,i)),l}function _t(n){n.draggable=!1}function ua(){St=!1}function fa(n,e,o){var t=F(Ne(o.el,0,o.options,!0)),a=10;return e?n.clientX<t.left-a||n.clientY<t.top&&n.clientX<t.right:n.clientY<t.top-a||n.clientY<t.bottom&&n.clientX<t.left}function pa(n,e,o){var t=F(Ft(o.el,o.options.draggable)),a=10;return e?n.clientX>t.right+a||n.clientX<=t.right&&n.clientY>t.bottom&&n.clientX>=t.left:n.clientX>t.right&&n.clientY>t.top||n.clientX<=t.right&&n.clientY>t.bottom+a}function ha(n,e,o,t,a,r,i,s){var c=t?n.clientY:n.clientX,d=t?o.height:o.width,u=t?o.top:o.left,l=t?o.bottom:o.right,g=!1;if(!i){if(s&&et<d*a){if(!We&&(Ye===1?c>u+d*r/2:c<l-d*r/2)&&(We=!0),We)g=!0;else if(Ye===1?c<u+et:c>l-et)return-Ye}else if(c>u+d*(1-a)/2&&c<l-d*(1-a)/2)return ga(e)}return g=g||i,g&&(c<u+d*r/2||c>l-d*r/2)?c>u+d/2?1:-1:0}function ga(n){return K(h)<K(n)?1:-1}function ma(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,o=e.length,t=0;o--;)t+=e.charCodeAt(o);return t.toString(36)}function va(n){it.length=0;for(var e=n.getElementsByTagName("input"),o=e.length;o--;){var t=e[o];t.checked&&it.push(t)}}function tt(n){return setTimeout(n,0)}function It(n){return clearTimeout(n)}ft&&I(document,"touchmove",function(n){(b.active||Oe)&&n.cancelable&&n.preventDefault()});b.utils={on:I,off:S,css:_,find:co,is:function(e,o){return!!le(e,o,e,!1)},extend:Jn,throttle:uo,closest:le,toggleClass:U,clone:po,index:K,nextTick:tt,cancelNextTick:It,detectDirection:go,getChild:Ne};b.get=function(n){return n[q]};b.mount=function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(b.utils=de(de({},b.utils),t.utils)),Ue.mount(t)})};b.create=function(n,e){return new b(n,e)};b.version=Zn;var M=[],Le,Ct,Tt=!1,bt,wt,lt,ze;function _a(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(o){var t=o.originalEvent;this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):this.options.supportPointer?I(document,"pointermove",this._handleFallbackAutoScroll):t.touches?I(document,"touchmove",this._handleFallbackAutoScroll):I(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var t=o.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),Kt(),ot(),ea()},nulling:function(){lt=Ct=Le=Tt=ze=bt=wt=null,M.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,t){var a=this,r=(o.touches?o.touches[0]:o).clientX,i=(o.touches?o.touches[0]:o).clientY,s=document.elementFromPoint(r,i);if(lt=o,t||this.options.forceAutoScrollFallback||Ge||fe||Xe){yt(o,this.options,s,t);var c=we(s,!0);Tt&&(!ze||r!==bt||i!==wt)&&(ze&&Kt(),ze=setInterval(function(){var d=we(document.elementFromPoint(r,i),!0);d!==c&&(c=d,ot()),yt(o,a.options,d,t)},10),bt=r,wt=i)}else{if(!this.options.bubbleScroll||we(s,!0)===se()){ot();return}yt(o,this.options,we(s,!1),!1)}}},ue(n,{pluginName:"scroll",initializeByDefault:!0})}function ot(){M.forEach(function(n){clearInterval(n.pid)}),M=[]}function Kt(){clearInterval(ze)}var yt=uo(function(n,e,o,t){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,i=e.scrollSensitivity,s=e.scrollSpeed,c=se(),d=!1,u;Ct!==o&&(Ct=o,ot(),Le=e.scroll,u=e.scrollFn,Le===!0&&(Le=we(o,!0)));var l=0,g=Le;do{var m=g,p=F(m),w=p.top,O=p.bottom,P=p.left,T=p.right,N=p.width,L=p.height,ae=void 0,G=void 0,re=m.scrollWidth,pe=m.scrollHeight,z=_(m),he=m.scrollLeft,Q=m.scrollTop;m===c?(ae=N<re&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),G=L<pe&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(ae=N<re&&(z.overflowX==="auto"||z.overflowX==="scroll"),G=L<pe&&(z.overflowY==="auto"||z.overflowY==="scroll"));var ge=ae&&(Math.abs(T-a)<=i&&he+N<re)-(Math.abs(P-a)<=i&&!!he),Z=G&&(Math.abs(O-r)<=i&&Q+L<pe)-(Math.abs(w-r)<=i&&!!Q);if(!M[l])for(var ie=0;ie<=l;ie++)M[ie]||(M[ie]={});(M[l].vx!=ge||M[l].vy!=Z||M[l].el!==m)&&(M[l].el=m,M[l].vx=ge,M[l].vy=Z,clearInterval(M[l].pid),(ge!=0||Z!=0)&&(d=!0,M[l].pid=setInterval(function(){t&&this.layer===0&&b.active._onTouchMove(lt);var me=M[this.layer].vy?M[this.layer].vy*s:0,J=M[this.layer].vx?M[this.layer].vx*s:0;typeof u=="function"&&u.call(b.dragged.parentNode[q],J,me,n,lt,M[this.layer].el)!=="continue"||fo(M[this.layer].el,J,me)}.bind({layer:l}),24))),l++}while(e.bubbleScroll&&g!==c&&(g=we(g,!1)));Tt=d}},30),bo=function(e){var o=e.originalEvent,t=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(o){var d=t||r;s();var u=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,l=document.elementFromPoint(u.clientX,u.clientY);c(),d&&!d.el.contains(l)&&(i("spill"),this.onSpill({dragEl:a,putSortable:t}))}};function Bt(){}Bt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var a=Ne(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:bo};ue(Bt,{pluginName:"revertOnSpill"});function Lt(){}Lt.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,a=t||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:bo};ue(Lt,{pluginName:"removeOnSpill"});b.mount(new _a);b.mount(Lt,Bt);var ba=Object.defineProperty,st=Object.getOwnPropertySymbols,wo=Object.prototype.hasOwnProperty,yo=Object.prototype.propertyIsEnumerable,Qt=(n,e,o)=>e in n?ba(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,Jt=(n,e)=>{for(var o in e||(e={}))wo.call(e,o)&&Qt(n,o,e[o]);if(st)for(var o of st(e))yo.call(e,o)&&Qt(n,o,e[o]);return n},wa=(n,e)=>{var o={};for(var t in n)wo.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&st)for(var t of st(n))e.indexOf(t)<0&&yo.call(n,t)&&(o[t]=n[t]);return o};function eo(n,e,o={}){let t;const a=o,{document:r=Co}=a,i=wa(a,["document"]),s={onUpdate:l=>{ya(e,l.oldIndex,l.newIndex)}},c=()=>{const l=typeof n=="string"?r==null?void 0:r.querySelector(n):Io(n);l&&(t=new b(l,Jt(Jt({},s),i)))},d=()=>t==null?void 0:t.destroy(),u=(l,g)=>{if(g!==void 0)t==null||t.option(l,g);else return t==null?void 0:t.option(l)};return So(c),To(d),{stop:d,start:c,option:u}}function ya(n,e,o){const t=Oo(n);if(o>=0&&o<t.length){const a=t.splice(e,1)[0];xt(()=>t.splice(o,0,a))}}const xa={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},Ea={class:"flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4"},Da={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},Sa={class:"flex items-center gap-4"},Ia={class:"whitespace-nowrap font-semibold"},Ca=f("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Ta={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},Oa={class:"flex items-center gap-4"},$a={class:"whitespace-nowrap font-semibold"},ka=f("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Pa=Se({__name:"DownloadManagerDownloadSection",setup(n){const e=ne(),o=ne(),t=ne(),a=ne(!0),{scheduledDownloadables:r,unscheduledDownloadables:i}=Ae();function s(){var g,m;const u=(g=e.value)==null?void 0:g.children,l=(m=o.value)==null?void 0:m.children;if(!u||!l)return!1;if(u.length!==r.value.length||l.length!==i.value.length)return!0;for(let p=0;p<u.length;p++)if(u[p].getAttribute("dl-id")!==r.value[p].id.toString())return!0;for(let p=0;p<l.length;p++)if(l[p].getAttribute("dl-id")!==i.value[p].id.toString())return!0;return!1}function c(){console.warn("Detected desync, rerendering..."),a.value=!1,xt(()=>a.value=!0)}function d(u,l,g,m){if(m>=0&&m<l.value.length+1){const p=u.value.splice(g,1)[0];p&&l.value.splice(m,0,p)}xt(()=>{s()&&c()})}return eo(e,r,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(u){var l;(l=t.value)==null||l.forEach(g=>g.observeItem()),d(i,r,u.oldIndex,u.newIndex)},onUpdate:function(u){var l;(l=t.value)==null||l.forEach(g=>g.observeItem()),d(r,r,u.oldIndex,u.newIndex)},onChange:function(u){var l;(l=t.value)==null||l.forEach(g=>g.removeObserveItem())},onEnd:function(u){var l;(l=t.value)==null||l.forEach(g=>g.observeItem())}}),eo(o,i,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(u){var l;(l=t.value)==null||l.forEach(g=>g.observeItem()),d(r,i,u.oldIndex,u.newIndex)},onUpdate:function(u){var l;(l=t.value)==null||l.forEach(g=>g.observeItem()),d(i,i,u.oldIndex,u.newIndex)},onChange:function(u){var l;(l=t.value)==null||l.forEach(g=>g.removeObserveItem())},onEnd:function(u){var l;(l=t.value)==null||l.forEach(g=>g.observeItem())}}),(u,l)=>(E(),C("section",xa,[f("div",Ea,[f("section",Da,[f("div",Sa,[f("h4",Ia,x(u.$t("scheduledDownload")),1),Ca]),f("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),C(Et,null,Dt(v(a)?v(r):[],g=>(E(),$e(v(jt),{ref_for:!0,ref_key:"downloadEl",ref:t,key:g.id,dir:"ltr","dl-id":g.id,data:g,class:oe({hidden:g.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),f("section",Ta,[f("div",Oa,[f("h4",$a,x(u.$t("unScheduledDownload")),1),ka]),f("div",{ref_key:"unscheduledEl",ref:o,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),C(Et,null,Dt(v(a)?v(i):[],g=>(E(),$e(v(jt),{ref_for:!0,ref_key:"downloadEl",ref:t,key:g.id,class:"download-item",dir:"ltr","dl-id":g.id,data:g},null,8,["dl-id","data"]))),128))],512)])])]))}}),Aa={class:"flex w-full items-center gap-2"},Na={class:"flex gap-2"},Ma={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},Fa={class:"flex flex-col items-start justify-start gap-1"},Ba={class:"line-clamp-1 break-all text-sm",dir:"ltr"},La={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},za={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},Ra={class:"text-fonts-300 ltr-dir text-xs font-bold"},Xa={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},ja=Se({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(n){const{showPath:e,openPath:o,completedDownloadables:t}=Ae();function a(r){t&&(t.value=t.value.filter(i=>i.id!==r))}return(r,i)=>{const s=kt,c=ct,d=ut;return E(),C("div",Aa,[f("div",Na,[D(s,{to:`/single/${r.data.postId}`},{default:X(()=>[f("div",Ma,[D(v($t),{src:r.data.image.poster.webp,punch:1,hash:r.data.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":75,"width-size":50},null,8,["src","hash"])])]),_:1},8,["to"]),f("div",Fa,[f("h6",Ba,x(r.data.title),1),r.data.season!==void 0&&r.data.episode!==void 0?(E(),C("p",La,"S"+x(r.data.season)+"E"+x(r.data.episode),1)):j("",!0),f("p",za,x(r.data.quality),1),f("p",Ra,x(r.data.size),1)])]),f("ul",Xa,[f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[0]||(i[0]=u=>v(o)(r.data.path))},[D(c,{name:"ph:play-fill",class:"h-6 w-6"}),D(d,{placement:"top"},{default:X(()=>[W(x(r.$t("play")),1)]),_:1})]),f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[1]||(i[1]=u=>v(e)(r.data.path))},[D(c,{name:"ph:folder-fill",class:"h-6 w-6"}),D(d,{placement:"top"},{default:X(()=>[W(x(r.$t("browseLocation")),1)]),_:1})]),f("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[2]||(i[2]=u=>a(r.data.id))},[D(c,{name:"ph:trash-fill",class:"h-6 w-6"}),D(d,{placement:"top"},{default:X(()=>[W(x(r.$t("removeFromHistory")),1)]),_:1})])])])}}}),zt=n=>(Pt("data-v-04065ef9"),n=n(),At(),n),Ha={"aria-label":"download manager sidebar",class:"flex h-full w-[18rem] flex-col rounded-2xl bg-bg-10 shadow-lg"},Ya={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},Wa={class:"w-full font-semibold"},Ga={class:"relative flex items-center justify-center"},Ua={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},Va={class:"local-numbers text-4xl font-bold"},qa=zt(()=>f("span",{class:"absolute h-4 w-4 rounded-full bg-bg-1 blur-md"},null,-1)),Za={class:"flex flex-row items-center gap-1",dir:"ltr"},Ka={key:0},Qa=zt(()=>f("p",null,"/",-1)),Ja={key:1},er={key:0,class:"absolute flex w-full flex-col items-center justify-center gap-4 text-3xl text-fonts-300"},tr={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},or={class:"w-full font-semibold"},nr={class:"flex w-full flex-1 overflow-y-auto"},ar={key:0,class:"flex w-full flex-col overflow-y-auto"},rr=zt(()=>f("span",{class:"line my-2 h-[2px] w-[90%] self-center rounded-full bg-bg-9/30 px-12"},null,-1)),ir={key:1,class:"flex w-full flex-col items-center justify-center gap-4 text-fonts-400"},lr={class:"mb-32 font-bold"},sr=Se({__name:"DownloadManagerSidebar",setup(n){const{bytesToSize:e}=Re.core,{getStorageStats:o,completedDownloadables:t}=Ae(),{downloadPath:a}=Ae(),r=ne(),i=ne(),s=ne(!0),c=oo(()=>i.value&&r.value?Math.floor(i.value/r.value*100):0);async function d(){if(!o)return;const{freeSpace:l,totalSpace:g}=await o();r.value=g,i.value=g-l}dt(async()=>{await d(),s.value=!1,setInterval(d,1e3*60*5)}),no(a,()=>{d()});const u=ro();return(l,g)=>{var T;const m=ct,p=ut,w=No,O=$o,P=ja;return E(),C("section",Ha,[f("header",Ya,[f("h4",Wa,x(l.$t("storage"))+":",1),f("div",{class:"absolute top-4 flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100 ltr:right-4 rtl:left-4",onClick:g[0]||(g[0]=N=>v(u).toggleDownloadFolder())},[D(m,{name:"ph:folder-fill"}),D(p,{placement:"top"},{default:X(()=>[W(x(l.$t("storageLocation")),1)]),_:1})]),f("div",Ga,[f("div",{class:oe(["relative flex flex-col items-center justify-center gap-4 transition-opacity",{"pointer-events-none opacity-0":v(s)}])},[D(w,{size:180,"stroke-width":12,linecap:"round",progress:v(c)},null,8,["progress"]),f("span",Ua,[f("h4",Va,x(v(c))+"%",1),qa]),f("div",Za,[v(i)?(E(),C("p",Ka,x(v(e)(v(i))),1)):j("",!0),Qa,v(r)?(E(),C("p",Ja,x(v(e)(v(r))),1)):j("",!0)])],2),v(s)?(E(),C("div",er,[D(O,{type:"circle"})])):j("",!0)])]),f("section",tr,[f("h4",or,x(l.$t("history"))+":",1),f("div",nr,[(T=v(t))!=null&&T.length?(E(),C("ul",ar,[(E(!0),C(Et,null,Dt(v(t),N=>(E(),C("li",{key:N.id,class:"history-item group flex w-full flex-col"},[D(P,{data:N},null,8,["data"]),rr]))),128))])):(E(),C("div",ir,[D(m,{name:"ph:download-fill",class:"text-4xl"}),f("h5",lr,x(l.$t("downloadHistoryIsEmpty")),1)]))])])])}}});const dr=Nt(sr,[["__scopeId","data-v-04065ef9"]]),cr={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},ur={class:"flex h-full w-full flex-col gap-8"},gr=Se({__name:"download-manager",setup(n){const{isLoggedIn:e,user:o}=ko(),{isElectron:t}=Po();if(!t||!e||!(o!=null&&o.user_allowed_to_download))throw Ao({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return dt(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.add("overflow-hidden-force")}),to(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.remove("overflow-hidden-force")}),(a,r)=>{const i=Sn,s=Pa,c=dr;return E(),C("div",cr,[f("div",ur,[D(i,{dir:"ltr"}),D(s)]),D(c)])}}});export{gr as default};
