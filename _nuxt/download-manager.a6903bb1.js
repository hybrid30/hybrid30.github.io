import{d as Se,m as Tt,n as J,o as st,f as Qt,g as E,h as C,p as ze,q as u,s as _o,t as Pe,c as Jt,v as eo,i as D,w as H,j as v,k as Oe,x as to,y as L,z as Q,A as W,B as x,C as oo,T as wo,_ as $t,D as dt,E as ct,G as Ot,H as kt,I as At,J as no,K as yo,L as xo,M as Eo,N as Do,O as So,P as Lt,Q as yt,F as xt,r as Et,R as Io,S as Co,U as To,V as $o}from"./entry.d8777ffc.js";import{C as Rt,i as zt}from"./chartjs-plugin-gradient.esm.2d018598.js";import{_ as Oo}from"./BaseCircularProgress.vue.43a2bc46.js";const ko={class:"relative"},Ao=u("div",{class:"absolute inset-0 h-full w-full overflow-hidden"},[u("div",{class:"absolute -left-[9.4rem] h-full w-[calc(100%_+_9.4rem)]"},[u("canvas",{id:"acquisitions",class:"!w-full"})])],-1),Po=[Ao],Mo=Se({__name:"DownloadManagerChart",setup(n,{expose:e}){const{disableAnimations:o}=Tt(),t=J(getComputedStyle(document.body).getPropertyValue("--primary-500"));let a;const r=f=>{const d=l[f.dataIndex];return`${ze.core.bytesToSize(d)}/s`};st(()=>{Rt.register(zt);const f={backgroundColor:`rgb(${t.value})`,borderColor:`rgb(${t.value})`,maintainAspectRatio:!1,animation:{duration:o.value?0:1e3,easing:"linear"},scales:{x:{ticks:{display:!1},grid:{display:!1},border:{display:!1}},y:{ticks:{display:!1},grid:{display:!1},border:{display:!1}}},elements:{point:{borderWidth:0,radius:3}},hover:{mode:"nearest",intersect:!0},plugins:{legend:{display:!1},tooltip:{enabled:!0,mode:"index",titleFont:{weight:"normal"},titleColor:"#ccc",intersect:!1,displayColors:!1,backgroundColor:"rgba(0,0,0,0.9)",cornerRadius:8,callbacks:{label:r}}},responsive:!0};a=new Rt(document.getElementById("acquisitions"),{type:"line",data:{labels:[],datasets:[{gradient:{backgroundColor:{axis:"y",colors:{0:`rgb(${t.value} / 0)`,100:`rgb(${t.value} / 0.3)`}}},pointBackgroundColor:`rgb(${t.value})`,fill:!0,label:"",data:[],tension:.4}]},options:f,plugins:[zt]})}),Qt(()=>a==null?void 0:a.destroy());const i=()=>new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),l=[];function c(){var d;a&&a.data.datasets[0].data.length>=32&&((d=a.data.labels)==null||d.shift(),a.data.datasets[0].data.shift(),a.update()),l.length>=32&&l.shift()}function s(f){c(),a==null||a.data.labels.push(i()),l.push(f);const d=Math.max(...l),m=Math.min(...l);a.data.datasets[0].data.push(Math.floor(ze.core.ILerp(m,d,f,100)));for(let p=0;p<(a==null?void 0:a.data.datasets[0].data.length);p++){const h=Math.floor(ze.core.ILerp(m,d,l[p],100));a.data.datasets[0].data[p]=h}a==null||a.update()}return e({addRecord:s}),(f,d)=>(E(),C("div",ko,Po))}}),Ne=n=>(Ot("data-v-53b86ea2"),n=n(),kt(),n),No={"aria-label":"downloader",class:"relative flex items-center gap-8"},Fo={class:"relative h-poster-medium w-poster-medium shrink-0 overflow-hidden rounded-xl bg-bg-10"},Bo={class:"relative flex w-full justify-between"},Lo={class:"absolute left-0 flex h-full w-1/2 overflow-hidden rounded-l-2xl opacity-10"},Ro=Ne(()=>u("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-10 from-20% to-bg-10/0"},null,-1)),zo=["src"],Xo={class:"relative flex w-full flex-col"},Ho={class:"absolute left-3 top-3 flex flex-col gap-2"},Yo={class:"flex items-center gap-2 text-xl font-bold tracking-wider text-fonts-300"},jo={key:0,class:"line-clamp-1 text-sm font-bold tracking-wider text-fonts-300"},Wo={key:0,class:"font-bold tracking-wider text-fonts-300"},Go={class:"mb-2 mt-16 h-full w-full"},Uo={class:"mb-1 p-4"},Vo={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/20"},qo={key:0,class:"progress-holder absolute h-full w-full bg-bg-1/30"},Zo={class:"relative flex flex-col justify-between p-2 transition-opacity"},Ko={class:"flex flex-row items-center gap-2"},Qo={class:"relative flex flex-col items-center"},Jo={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},en={key:0,class:"absolute top-1 ml-7 h-2 w-2 rounded-full bg-yellow-500"},tn=Ne(()=>u("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),on={class:"flex h-[1.5rem] w-[6.34rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},nn={class:"flex flex-col items-center"},an={class:"flex shrink-0 translate-y-1 items-center justify-center rounded-full bg-bg-11 p-2"},rn=Ne(()=>u("svg",{class:"h-4 w-full self-center fill-bg-11 md:ml-0",viewBox:"0 0 106 77",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M106 77H0C21.2629 77 38.5 59.7629 38.5 38.5C38.5 17.2371 21.2629 0 0 0H106C84.7371 0 67.5 17.2371 67.5 38.5C67.5 59.7629 84.7371 77 106 77Z"})],-1)),ln={class:"flex h-[1.5rem] w-[5.32rem] items-center justify-center whitespace-nowrap rounded-xl bg-bg-11 px-3 text-center text-xs font-semibold text-fonts-100"},sn={class:"relative flex items-center justify-center"},dn={class:"local-numbers text-6xl font-bold"},cn=Ne(()=>u("span",{class:"absolute h-16 w-16 translate-y-2 rounded-full bg-bg-1/20 blur-xl"},null,-1)),un={class:"flex flex-col items-center"},fn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},hn={class:"flex cursor-pointer rounded-xl border-2 border-bg-9/0 bg-bg-11 p-2 transition-colors hover:bg-bg-9/50"},pn=Ne(()=>u("svg",{class:"absolute right-[20vw] top-full z-10 w-[3rem] fill-bg-10",viewBox:"0 0 56 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M55.7602 1.56955e-06L0.00976562 0C10.7793 2.09563e-06 19.5098 8.73045 19.5098 19.5C19.5098 30.2696 10.7793 39 0.0097732 39H55.7745C45.005 39 36.2745 30.2695 36.2745 19.5C36.2745 8.7352 44.9972 0.00770274 55.7602 1.56955e-06Z"})],-1)),gn=Ne(()=>u("svg",{class:"absolute left-[calc(100%_-_1px)] top-4 z-10 w-[2.2rem] fill-bg-10",viewBox:"0 0 40 57",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.3926 56.3745L39.3926 0.617676C39.3926 11.3872 30.6621 20.1177 19.8926 20.1177C9.12302 20.1177 0.392574 11.3872 0.392578 0.617682L0.392576 56.3824C0.39258 45.6129 9.12303 36.8824 19.8926 36.8824C30.6595 36.8824 39.3883 45.6086 39.3926 56.3745Z"})],-1)),mn={key:0,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},vn={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},bn={key:1,class:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},_n={class:"whitespace-nowrap text-2xl font-semibold text-fonts-200"},wn=Se({__name:"DownloadManagerDownloader",setup(n){const e=_o(),{bytesToSize:o}=ze.core,{scheduledDownloadables:t,unscheduledDownloadables:a,activeDownloadable:r,changeUpdater:i,downloadAction:l}=Pe(),{downloadSpeedLimit:c}=Tt(),s=Jt(()=>e.progress),f=J();eo(s,p=>{var h;(p==null?void 0:p.status)==="active"&&((h=f.value)==null||h.addRecord(p.downloadSpeed))});async function d(){var h;const p=((h=e.progress)==null?void 0:h.status)==="active"?"pause":"unpause";await l(p),p==="pause"?(await i("stop"),s.value.downloadSpeed=0):i("start")}async function m(){await i("stop"),l("remove"),e.progress=void 0,r!=null&&r.value&&(r.value.downloading=!1),e.activeGID=void 0;const p=t.value[0],h=t.value.indexOf(p);t.value.splice(h,1),a.value.unshift(p)}return(p,h)=>{var M,R,ae,G,re,he,z,pe,ee,ge,Z,ie,me,te,ye,ve;const b=$t,$=Mo,A=dt,T=ct;return E(),C("section",No,[D(b,{to:`/single/${(M=v(r))==null?void 0:M.postId}`,class:Q([{"pointer-events-none opacity-20 grayscale":!v(r)}])},{default:H(()=>{var oe,Ie,Fe;return[u("div",Fo,[(oe=v(r))!=null&&oe.image.poster.webp?(E(),Oe(v(to),{key:0,src:(Ie=v(r))==null?void 0:Ie.image.poster.webp,punch:1,hash:(Fe=v(r))==null?void 0:Fe.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":258,"width-size":172},null,8,["src","hash"])):L("",!0)])]}),_:1},8,["to","class"]),u("div",Bo,[u("section",{"aria-label":"download info",class:Q(["ltr-dir relative flex h-poster-medium w-full justify-between rounded-2xl bg-bg-10 shadow-lg",[{"pointer-events-none opacity-20 grayscale":!v(r)}]])},[u("div",Lo,[Ro,(R=v(r))!=null&&R.image.cover?(E(),C("img",{key:0,src:(ae=v(r))==null?void 0:ae.image.cover,class:"h-full w-full object-cover",alt:""},null,8,zo)):L("",!0)]),u("div",Xo,[u("div",Ho,[u("h5",Yo,[W(x((G=v(r))==null?void 0:G.title)+" ",1),(re=v(r))!=null&&re.episode?(E(),C("p",jo,x(`S${v(r).season}E${v(r).episode}`),1)):L("",!0)]),(he=v(r))!=null&&he.size?(E(),C("h5",Wo,x((z=v(r))==null?void 0:z.size),1)):L("",!0)]),u("div",Go,[D($,{ref_key:"chart",ref:f,class:"h-full w-full"},null,512)]),u("div",Uo,[u("span",Vo,[D(wo,{name:"fade-preset",mode:"out-in"},{default:H(()=>{var oe,Ie;return[((oe=v(s))==null?void 0:oe.status)==="preparing"?(E(),C("span",qo)):(E(),C("span",{key:1,class:"absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500/80",style:oo(`transform: scaleX(${(((Ie=v(s))==null?void 0:Ie.percent)||0)/100})`)},null,4))]}),_:1})])])]),u("div",Zo,[u("div",{class:Q({" opacity-50":((pe=v(s))==null?void 0:pe.status)==="preparing"})},[u("ul",Ko,[u("li",Qo,[u("span",Jo,[D(A,{name:"ph:gauge-fill",class:"text-2xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("downloadSpeed")),1)]),_:1})]),v(c)?(E(),C("span",en,[D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("speedLimiterIsActive")),1)]),_:1})])):L("",!0),tn,u("p",on,x(v(o)(((ee=v(s))==null?void 0:ee.downloadSpeed)||0))+"/s ",1)]),u("li",nn,[u("span",an,[D(A,{name:"ph:download-fill",class:"text-2xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("size")),1)]),_:1})]),rn,u("p",ln,x(v(o)(((ge=v(s))==null?void 0:ge.completedLength)||0)),1)])])],2),u("div",{class:Q(["flex flex-col items-center",{" opacity-50":((Z=v(s))==null?void 0:Z.status)==="preparing"}])},[u("div",sn,[u("h4",dn,x(((ie=v(s))==null?void 0:ie.percent)||0)+"%",1),cn])],2),u("div",un,[u("ul",{class:Q(["flex gap-3",[{disabled:!v(r)},{invisible:!v(r)}]])},[u("li",{class:Q([{"pointer-events-none":!v(s)||v(s).status==="preparing"},{" opacity-50":((me=v(s))==null?void 0:me.status)==="preparing"}]),onClick:h[0]||(h[0]=oe=>d())},[u("div",fn,[((te=v(s))==null?void 0:te.status)==="active"?(E(),Oe(A,{key:0,name:"ph:pause-fill",class:"text-md text-fonts-100"})):((ye=v(s))==null?void 0:ye.status)==="paused"?(E(),Oe(A,{key:1,name:"ph:play-fill",class:"text-md text-fonts-100"})):(E(),Oe(A,{key:2,name:"ph:pause-fill",class:"text-md text-fonts-100"})),D(T,{placement:"top"},{default:H(()=>{var oe;return[W(x(((oe=v(s))==null?void 0:oe.status)==="active"?p.$t("pauseDownload"):p.$t("resumeDownload")),1)]}),_:1})])],2),u("li",{onClick:m},[u("div",hn,[D(A,{name:"ph:x-bold",class:"text-md text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(p.$t("cancel")),1)]),_:1})])])],2)])]),pn,gn],2),v(r)?L("",!0):(E(),C("span",mn,[u("h4",vn,x(p.$t("youHaveNoActiveDownload")),1)])),((ve=v(s))==null?void 0:ve.status)==="preparing"?(E(),C("span",bn,[u("h4",_n,x(p.$t("preparingDownload")),1)])):L("",!0)])])}}});const yn=At(wn,[["__scopeId","data-v-53b86ea2"]]),Pt=n=>(Ot("data-v-e0cd91ed"),n=n(),kt(),n),xn={key:0,class:"flex items-center gap-8 w-full h-full"},En={class:"h-[8.44rem] w-[5.625rem] overflow-hidden rounded-lg bg-bg-8"},Dn=["src"],Sn={class:"relative flex h-full w-full items-center justify-between overflow-hidden rounded-2xl bg-bg-11"},In={class:"pointer-events-none absolute left-0 flex h-full w-1/3 opacity-20"},Cn=Pt(()=>u("span",{class:"absolute h-full w-full bg-gradient-to-l from-bg-11 from-20% to-bg-11/0"},null,-1)),Tn=["src"],$n={class:"drag-target h-full w-full p-4"},On={class:"relative flex flex-col"},kn={key:0,class:"ltr-dir line-clamp-1 text-base font-bold text-fonts-300"},An={class:"ltr-dir line-clamp-1 text-left text-base font-bold text-fonts-300"},Pn={class:"ltr-dir text-base font-semibold"},Mn={key:0},Nn=Pt(()=>u("span",{class:"text-fonts-300"}," / ",-1)),Fn={class:"text-fonts-300"},Bn=Pt(()=>u("span",{class:"draggable-handler drag-target absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 scale-75 cursor-grab flex-col items-center gap-1"},[u("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),u("span",{class:"h-1 w-6 rounded-full bg-bg-9"}),u("span",{class:"h-1 w-6 rounded-full bg-bg-9"})],-1)),Ln={class:"flex p-4"},Rn={class:"absolute bottom-full right-0 flex items-center gap-2"},zn={class:"local-numbers"},Xn={class:"relative flex h-2 w-full overflow-hidden rounded-full bg-bg-1/10"},Hn={class:"flex items-center gap-2"},Yn=Se({__name:"DownloadManagerDownloadItem",props:{data:{}},setup(n,{expose:e}){const o=n,{scheduledDownloadables:t,unscheduledDownloadables:a}=Pe(),{optimizedDownloadlist:r}=Tt(),i=no();function l(){t&&(t.value=t.value.filter(h=>h.id!==o.data.id)),a&&(a.value=a.value.filter(h=>h.id!==o.data.id))}function c(){if(!t||!a)return;const h=a.value.find($=>$.id===o.data.id),b=t.value.find($=>$.id===o.data.id);h?(t.value=[h,...t.value],a.value=a.value.filter($=>$.id!==o.data.id),h.id=new Date().getTime()):b&&(t.value=t.value.filter($=>$.id!==o.data.id),t.value=[b,...t.value],b.id=new Date().getTime())}const s=J(!1),f=J();let d;st(()=>{r.value&&(d=new IntersectionObserver(h=>{const b=h[0];s.value=b.isIntersecting},{threshold:0}),f.value&&d.observe(f.value))});function m(){r.value&&setTimeout(()=>{f.value&&d.observe(f.value)},300)}function p(){r.value&&(f.value&&d.unobserve(f.value),s.value=!0)}return e({observeItem:m,removeObserveItem:p}),(h,b)=>{const $=$t,A=dt,T=ct;return E(),C("section",{ref_key:"downloadItem",ref:f,"aria-label":"download item",class:"flex flex-col w-full items-center gap-8 h-[9rem]"},[!v(r)||v(s)?(E(),C("div",xn,[D($,{to:`/single/${h.data.postId}`},{default:H(()=>[u("div",En,[h.data.image.poster.webp?(E(),C("img",{key:0,src:h.data.image.poster.webp,class:"h-[8.44rem] w-[5.625rem]",alt:"",loading:"lazy"},null,8,Dn)):L("",!0)])]),_:1},8,["to"]),u("div",Sn,[u("div",In,[Cn,h.data.image.cover?(E(),C("img",{key:0,src:h.data.image.cover,class:"h-full w-full object-cover",loading:"lazy",alt:""},null,8,Tn)):L("",!0)]),u("span",$n,[u("div",On,[u("h6",{class:Q(["ltr-dir line-clamp-1 break-all",h.data.title.length>25?"text-lg":"text-xl"])},x(h.data.title),3),h.data.season!==void 0&&h.data.episode!==void 0?(E(),C("p",kn,"S"+x(h.data.season)+"E"+x(h.data.episode),1)):L("",!0),u("p",An,x(h.data.quality),1),u("p",Pn,[h.data.progress?(E(),C("span",Mn,[W(x(h.data.progress.downloaded)+" ",1),Nn])):L("",!0),u("span",Fn,x(h.data.size),1)])]),Bn]),u("div",Ln,[u("ul",{class:Q(["flex items-center gap-2",{"drag-target":!h.data.error}])},[u("li",{class:Q(["flex cursor-pointer items-center justify-center rounded-full p-2 transition-all hover:bg-bg-9",{invisible:!h.data.error}]),onClick:b[0]||(b[0]=M=>v(i).toggleMessage(!0,h.data.error,"code"))},[D(A,{name:"ph:warning",class:"shrink-0 text-xl text-red-500"}),D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("anErrorOccurredWhileDownloading")),1)]),_:1})],2),h.data.progress?(E(),C("li",{key:0,class:"progress relative mx-4 w-48",onClick:b[1]||(b[1]=M=>v(i).toggleMessage(!0))},[u("div",Rn,[u("span",zn,x(h.data.progress.percent)+"%",1)]),u("span",Xn,[u("span",{class:"full absolute left-0 h-full w-full origin-left scale-x-0 bg-primary-500",style:oo(`transform: scaleX(${h.data.progress.percent/100})`)},null,4)])])):L("",!0)],2),u("ul",Hn,[u("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:l},[D(A,{name:"ph:trash-fill",class:"text-xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("deleteFromList")),1)]),_:1})]),u("li",{class:"flex cursor-pointer rounded-full p-2 transition-colors hover:bg-bg-9",onClick:c},[D(A,{name:"ph:download-simple-fill",class:"text-xl text-fonts-100"}),D(T,{placement:"top"},{default:H(()=>[W(x(h.$t("downloadNow")),1)]),_:1})])])])])])):L("",!0)],512)}}});const Xt=At(Yn,[["__scopeId","data-v-e0cd91ed"]]);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ht(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),o.push.apply(o,t)}return o}function de(n){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(o),!0).forEach(function(t){jn(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ht(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function Qe(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(e){return typeof e}:Qe=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(n)}function jn(n,e,o){return e in n?Object.defineProperty(n,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[e]=o,n}function ue(){return ue=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n},ue.apply(this,arguments)}function Wn(n,e){if(n==null)return{};var o={},t=Object.keys(n),a,r;for(r=0;r<t.length;r++)a=t[r],!(e.indexOf(a)>=0)&&(o[a]=n[a]);return o}function Gn(n,e){if(n==null)return{};var o=Wn(n,e),t,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)t=r[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var Un="1.15.0";function ce(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var fe=ce(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ge=ce(/Edge/i),Yt=ce(/firefox/i),Xe=ce(/safari/i)&&!ce(/chrome/i)&&!ce(/android/i),ao=ce(/iP(ad|od|hone)/i),ro=ce(/chrome/i)&&ce(/android/i),io={capture:!1,passive:!1};function I(n,e,o){n.addEventListener(e,o,!fe&&io)}function S(n,e,o){n.removeEventListener(e,o,!fe&&io)}function nt(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Vn(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function le(n,e,o,t){if(n){o=o||document;do{if(e!=null&&(e[0]===">"?n.parentNode===o&&nt(n,e):nt(n,e))||t&&n===o)return n;if(n===o)break}while(n=Vn(n))}return null}var jt=/\s+/g;function U(n,e,o){if(n&&e)if(n.classList)n.classList[o?"add":"remove"](e);else{var t=(" "+n.className+" ").replace(jt," ").replace(" "+e+" "," ");n.className=(t+(o?" "+e:"")).replace(jt," ")}}function _(n,e,o){var t=n&&n.style;if(t){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(o=n.currentStyle),e===void 0?o:o[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=o+(typeof o=="string"?"":"px")}}function Ae(n,e){var o="";if(typeof n=="string")o=n;else do{var t=_(n,"transform");t&&t!=="none"&&(o=t+" "+o)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(o)}function lo(n,e,o){if(n){var t=n.getElementsByTagName(e),a=0,r=t.length;if(o)for(;a<r;a++)o(t[a],a);return t}return[]}function se(){var n=document.scrollingElement;return n||document.documentElement}function F(n,e,o,t,a){if(!(!n.getBoundingClientRect&&n!==window)){var r,i,l,c,s,f,d;if(n!==window&&n.parentNode&&n!==se()?(r=n.getBoundingClientRect(),i=r.top,l=r.left,c=r.bottom,s=r.right,f=r.height,d=r.width):(i=0,l=0,c=window.innerHeight,s=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||o)&&n!==window&&(a=a||n.parentNode,!fe))do if(a&&a.getBoundingClientRect&&(_(a,"transform")!=="none"||o&&_(a,"position")!=="static")){var m=a.getBoundingClientRect();i-=m.top+parseInt(_(a,"border-top-width")),l-=m.left+parseInt(_(a,"border-left-width")),c=i+r.height,s=l+r.width;break}while(a=a.parentNode);if(t&&n!==window){var p=Ae(a||n),h=p&&p.a,b=p&&p.d;p&&(i/=b,l/=h,d/=h,f/=b,c=i+f,s=l+d)}return{top:i,left:l,bottom:c,right:s,width:d,height:f}}}function Wt(n,e,o){for(var t=we(n,!0),a=F(n)[e];t;){var r=F(t)[o],i=void 0;if(o==="top"||o==="left"?i=a>=r:i=a<=r,!i)return t;if(t===se())break;t=we(t,!1)}return!1}function Me(n,e,o,t){for(var a=0,r=0,i=n.children;r<i.length;){if(i[r].style.display!=="none"&&i[r]!==w.ghost&&(t||i[r]!==w.dragged)&&le(i[r],o.draggable,n,!1)){if(a===e)return i[r];a++}r++}return null}function Mt(n,e){for(var o=n.lastElementChild;o&&(o===w.ghost||_(o,"display")==="none"||e&&!nt(o,e));)o=o.previousElementSibling;return o||null}function K(n,e){var o=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==w.clone&&(!e||nt(n,e))&&o++;return o}function Gt(n){var e=0,o=0,t=se();if(n)do{var a=Ae(n),r=a.a,i=a.d;e+=n.scrollLeft*r,o+=n.scrollTop*i}while(n!==t&&(n=n.parentNode));return[e,o]}function qn(n,e){for(var o in n)if(n.hasOwnProperty(o)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===n[o][t])return Number(o)}return-1}function we(n,e){if(!n||!n.getBoundingClientRect)return se();var o=n,t=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var a=_(o);if(o.clientWidth<o.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return se();if(t||e)return o;t=!0}}while(o=o.parentNode);return se()}function Zn(n,e){if(n&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function ft(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var He;function so(n,e){return function(){if(!He){var o=arguments,t=this;o.length===1?n.call(t,o[0]):n.apply(t,o),He=setTimeout(function(){He=void 0},e)}}}function Kn(){clearTimeout(He),He=void 0}function co(n,e,o){n.scrollLeft+=e,n.scrollTop+=o}function uo(n){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):o?o(n).clone(!0)[0]:n.cloneNode(!0)}var q="Sortable"+new Date().getTime();function Qn(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(a){if(!(_(a,"display")==="none"||a===w.ghost)){n.push({target:a,rect:F(a)});var r=de({},n[n.length-1].rect);if(a.thisAnimationDuration){var i=Ae(a,!0);i&&(r.top-=i.f,r.left-=i.e)}a.fromRect=r}})}},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(qn(n,{target:t}),1)},animateAll:function(t){var a=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var r=!1,i=0;n.forEach(function(l){var c=0,s=l.target,f=s.fromRect,d=F(s),m=s.prevFromRect,p=s.prevToRect,h=l.rect,b=Ae(s,!0);b&&(d.top-=b.f,d.left-=b.e),s.toRect=d,s.thisAnimationDuration&&ft(m,d)&&!ft(f,d)&&(h.top-d.top)/(h.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(c=ea(h,m,p,a.options)),ft(d,f)||(s.prevFromRect=f,s.prevToRect=d,c||(c=a.options.animation),a.animate(s,h,d,c)),c&&(r=!0,i=Math.max(i,c),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},c),s.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof t=="function"&&t()},i):typeof t=="function"&&t(),n=[]},animate:function(t,a,r,i){if(i){_(t,"transition",""),_(t,"transform","");var l=Ae(this.el),c=l&&l.a,s=l&&l.d,f=(a.left-r.left)/(c||1),d=(a.top-r.top)/(s||1);t.animatingX=!!f,t.animatingY=!!d,_(t,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=Jn(t),_(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),_(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){_(t,"transition",""),_(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i)}}}}function Jn(n){return n.offsetWidth}function ea(n,e,o,t){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*t.animation}var Ce=[],ht={initializeByDefault:!0},Ue={mount:function(e){for(var o in ht)ht.hasOwnProperty(o)&&!(o in e)&&(e[o]=ht[o]);Ce.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ce.push(e)},pluginEvent:function(e,o,t){var a=this;this.eventCanceled=!1,t.cancel=function(){a.eventCanceled=!0};var r=e+"Global";Ce.forEach(function(i){o[i.pluginName]&&(o[i.pluginName][r]&&o[i.pluginName][r](de({sortable:o},t)),o.options[i.pluginName]&&o[i.pluginName][e]&&o[i.pluginName][e](de({sortable:o},t)))})},initializePlugins:function(e,o,t,a){Ce.forEach(function(l){var c=l.pluginName;if(!(!e.options[c]&&!l.initializeByDefault)){var s=new l(e,o,e.options);s.sortable=e,s.options=e.options,e[c]=s,ue(t,s.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);typeof i<"u"&&(e.options[r]=i)}},getEventProperties:function(e,o){var t={};return Ce.forEach(function(a){typeof a.eventProperties=="function"&&ue(t,a.eventProperties.call(o[a.pluginName],e))}),t},modifyOption:function(e,o,t){var a;return Ce.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(a=r.optionListeners[o].call(e[r.pluginName],t))}),a}};function ta(n){var e=n.sortable,o=n.rootEl,t=n.name,a=n.targetEl,r=n.cloneEl,i=n.toEl,l=n.fromEl,c=n.oldIndex,s=n.newIndex,f=n.oldDraggableIndex,d=n.newDraggableIndex,m=n.originalEvent,p=n.putSortable,h=n.extraEventProperties;if(e=e||o&&o[q],!!e){var b,$=e.options,A="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!fe&&!Ge?b=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(t,!0,!0)),b.to=i||o,b.from=l||o,b.item=a||o,b.clone=r,b.oldIndex=c,b.newIndex=s,b.oldDraggableIndex=f,b.newDraggableIndex=d,b.originalEvent=m,b.pullMode=p?p.lastPutMode:void 0;var T=de(de({},h),Ue.getEventProperties(t,e));for(var M in T)b[M]=T[M];o&&o.dispatchEvent(b),$[A]&&$[A].call(e,b)}}var oa=["evt"],j=function(e,o){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=t.evt,r=Gn(t,oa);Ue.pluginEvent.bind(w)(e,o,de({dragEl:g,parentEl:P,ghostEl:y,rootEl:O,nextEl:De,lastDownEl:Je,cloneEl:k,cloneHidden:_e,dragStarted:Be,putSortable:B,activeSortable:w.active,originalEvent:a,oldIndex:ke,oldDraggableIndex:Ye,newIndex:V,newDraggableIndex:be,hideGhostForTarget:go,unhideGhostForTarget:mo,cloneNowHidden:function(){_e=!0},cloneNowShown:function(){_e=!1},dispatchSortableEvent:function(l){Y({sortable:o,name:l,originalEvent:a})}},r))};function Y(n){ta(de({putSortable:B,cloneEl:k,targetEl:g,rootEl:O,oldIndex:ke,oldDraggableIndex:Ye,newIndex:V,newDraggableIndex:be},n))}var g,P,y,O,De,Je,k,_e,ke,V,Ye,be,Ve,B,$e=!1,at=!1,rt=[],xe,ne,pt,gt,Ut,Vt,Be,Te,je,We=!1,qe=!1,et,X,mt=[],Dt=!1,it=[],ut=typeof document<"u",Ze=ao,qt=Ge||fe?"cssFloat":"float",na=ut&&!ro&&!ao&&"draggable"in document.createElement("div"),fo=function(){if(ut){if(fe)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),ho=function(e,o){var t=_(e),a=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),r=Me(e,0,o),i=Me(e,1,o),l=r&&_(r),c=i&&_(i),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+F(r).width,f=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+F(i).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===d)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||s>=a&&t[qt]==="none"||i&&t[qt]==="none"&&s+f>a)?"vertical":"horizontal"},aa=function(e,o,t){var a=t?e.left:e.top,r=t?e.right:e.bottom,i=t?e.width:e.height,l=t?o.left:o.top,c=t?o.right:o.bottom,s=t?o.width:o.height;return a===l||r===c||a+i/2===l+s/2},ra=function(e,o){var t;return rt.some(function(a){var r=a[q].options.emptyInsertThreshold;if(!(!r||Mt(a))){var i=F(a),l=e>=i.left-r&&e<=i.right+r,c=o>=i.top-r&&o<=i.bottom+r;if(l&&c)return t=a}}),t},po=function(e){function o(r,i){return function(l,c,s,f){var d=l.options.group.name&&c.options.group.name&&l.options.group.name===c.options.group.name;if(r==null&&(i||d))return!0;if(r==null||r===!1)return!1;if(i&&r==="clone")return r;if(typeof r=="function")return o(r(l,c,s,f),i)(l,c,s,f);var m=(i?l:c).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var t={},a=e.group;(!a||Qe(a)!="object")&&(a={name:a}),t.name=a.name,t.checkPull=o(a.pull,!0),t.checkPut=o(a.put),t.revertClone=a.revertClone,e.group=t},go=function(){!fo&&y&&_(y,"display","none")},mo=function(){!fo&&y&&_(y,"display","")};ut&&!ro&&document.addEventListener("click",function(n){if(at)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),at=!1,!1},!0);var Ee=function(e){if(g){e=e.touches?e.touches[0]:e;var o=ra(e.clientX,e.clientY);if(o){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[q]._onDragOver(t)}}},ia=function(e){g&&g.parentNode[q]._isOutsideThisEl(e.target)};function w(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=ue({},e),n[q]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ho(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,l){i.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!Xe,emptyInsertThreshold:5};Ue.initializePlugins(this,n,o);for(var t in o)!(t in e)&&(e[t]=o[t]);po(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:na,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?I(n,"pointerdown",this._onTapStart):(I(n,"mousedown",this._onTapStart),I(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(n,"dragover",this),I(n,"dragenter",this)),rt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ue(this,Qn())}w.prototype={constructor:w,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Te=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,g):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,a=this.options,r=a.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=a.filter;if(pa(t),!g&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||a.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&Xe&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=le(c,a.draggable,t,!1),!(c&&c.animated)&&Je!==c)){if(ke=K(c),Ye=K(c,a.draggable),typeof f=="function"){if(f.call(this,e,c,this)){Y({sortable:o,rootEl:s,name:"filter",targetEl:c,toEl:t,fromEl:t}),j("filter",o,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=le(s,d.trim(),t,!1),d)return Y({sortable:o,rootEl:d,name:"filter",targetEl:c,fromEl:t,toEl:t}),j("filter",o,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}a.handle&&!le(s,a.handle,t,!1)||this._prepareDragStart(e,l,c)}}},_prepareDragStart:function(e,o,t){var a=this,r=a.el,i=a.options,l=r.ownerDocument,c;if(t&&!g&&t.parentNode===r){var s=F(t);if(O=r,g=t,P=g.parentNode,De=g.nextSibling,Je=t,Ve=i.group,w.dragged=g,xe={target:g,clientX:(o||e).clientX,clientY:(o||e).clientY},Ut=xe.clientX-s.left,Vt=xe.clientY-s.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,g.style["will-change"]="all",c=function(){if(j("delayEnded",a,{evt:e}),w.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Yt&&a.nativeDraggable&&(g.draggable=!0),a._triggerDragStart(e,o),Y({sortable:a,name:"choose",originalEvent:e}),U(g,i.chosenClass,!0)},i.ignore.split(",").forEach(function(f){lo(g,f.trim(),vt)}),I(l,"dragover",Ee),I(l,"mousemove",Ee),I(l,"touchmove",Ee),I(l,"mouseup",a._onDrop),I(l,"touchend",a._onDrop),I(l,"touchcancel",a._onDrop),Yt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),j("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ge||fe))){if(w.eventCanceled){this._onDrop();return}I(l,"mouseup",a._disableDelayedDrag),I(l,"touchend",a._disableDelayedDrag),I(l,"touchcancel",a._disableDelayedDrag),I(l,"mousemove",a._delayedDragTouchMoveHandler),I(l,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&I(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&vt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._disableDelayedDrag),S(e,"touchend",this._disableDelayedDrag),S(e,"touchcancel",this._disableDelayedDrag),S(e,"mousemove",this._delayedDragTouchMoveHandler),S(e,"touchmove",this._delayedDragTouchMoveHandler),S(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):o?I(document,"touchmove",this._onTouchMove):I(document,"mousemove",this._onTouchMove):(I(g,"dragend",this),I(O,"dragstart",this._onDragStart));try{document.selection?tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if($e=!1,O&&g){j("dragStarted",this,{evt:o}),this.nativeDraggable&&I(document,"dragover",ia);var t=this.options;!e&&U(g,t.dragClass,!1),U(g,t.ghostClass,!0),w.active=this,e&&this._appendGhost(),Y({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ne){this._lastX=ne.clientX,this._lastY=ne.clientY,go();for(var e=document.elementFromPoint(ne.clientX,ne.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ne.clientX,ne.clientY),e!==o);)o=e;if(g.parentNode[q]._isOutsideThisEl(e),o)do{if(o[q]){var t=void 0;if(t=o[q]._onDragOver({clientX:ne.clientX,clientY:ne.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);mo()}},_onTouchMove:function(e){if(xe){var o=this.options,t=o.fallbackTolerance,a=o.fallbackOffset,r=e.touches?e.touches[0]:e,i=y&&Ae(y,!0),l=y&&i&&i.a,c=y&&i&&i.d,s=Ze&&X&&Gt(X),f=(r.clientX-xe.clientX+a.x)/(l||1)+(s?s[0]-mt[0]:0)/(l||1),d=(r.clientY-xe.clientY+a.y)/(c||1)+(s?s[1]-mt[1]:0)/(c||1);if(!w.active&&!$e){if(t&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(y){i?(i.e+=f-(pt||0),i.f+=d-(gt||0)):i={a:1,b:0,c:0,d:1,e:f,f:d};var m="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");_(y,"webkitTransform",m),_(y,"mozTransform",m),_(y,"msTransform",m),_(y,"transform",m),pt=f,gt=d,ne=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:O,o=F(g,!0,Ze,!0,e),t=this.options;if(Ze){for(X=e;_(X,"position")==="static"&&_(X,"transform")==="none"&&X!==document;)X=X.parentNode;X!==document.body&&X!==document.documentElement?(X===document&&(X=se()),o.top+=X.scrollTop,o.left+=X.scrollLeft):X=se(),mt=Gt(X)}y=g.cloneNode(!0),U(y,t.ghostClass,!1),U(y,t.fallbackClass,!0),U(y,t.dragClass,!0),_(y,"transition",""),_(y,"transform",""),_(y,"box-sizing","border-box"),_(y,"margin",0),_(y,"top",o.top),_(y,"left",o.left),_(y,"width",o.width),_(y,"height",o.height),_(y,"opacity","0.8"),_(y,"position",Ze?"absolute":"fixed"),_(y,"zIndex","100000"),_(y,"pointerEvents","none"),w.ghost=y,e.appendChild(y),_(y,"transform-origin",Ut/parseInt(y.style.width)*100+"% "+Vt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,a=e.dataTransfer,r=t.options;if(j("dragStart",this,{evt:e}),w.eventCanceled){this._onDrop();return}j("setupClone",this),w.eventCanceled||(k=uo(g),k.removeAttribute("id"),k.draggable=!1,k.style["will-change"]="",this._hideClone(),U(k,this.options.chosenClass,!1),w.clone=k),t.cloneId=tt(function(){j("clone",t),!w.eventCanceled&&(t.options.removeCloneOnHide||O.insertBefore(k,g),t._hideClone(),Y({sortable:t,name:"clone"}))}),!o&&U(g,r.dragClass,!0),o?(at=!0,t._loopId=setInterval(t._emulateDragOver,50)):(S(document,"mouseup",t._onDrop),S(document,"touchend",t._onDrop),S(document,"touchcancel",t._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(t,a,g)),I(document,"drop",t),_(g,"transform","translateZ(0)")),$e=!0,t._dragStartId=tt(t._dragStarted.bind(t,o,e)),I(document,"selectstart",t),Be=!0,Xe&&_(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,t=e.target,a,r,i,l=this.options,c=l.group,s=w.active,f=Ve===c,d=l.sort,m=B||s,p,h=this,b=!1;if(Dt)return;function $(ve,oe){j(ve,h,de({evt:e,isOwner:f,axis:p?"vertical":"horizontal",revert:i,dragRect:a,targetRect:r,canSort:d,fromSortable:m,target:t,completed:T,onMove:function(Fe,bo){return Ke(O,o,g,a,Fe,F(Fe),e,bo)},changed:M},oe))}function A(){$("dragOverAnimationCapture"),h.captureAnimationState(),h!==m&&m.captureAnimationState()}function T(ve){return $("dragOverCompleted",{insertion:ve}),ve&&(f?s._hideClone():s._showClone(h),h!==m&&(U(g,B?B.options.ghostClass:s.options.ghostClass,!1),U(g,l.ghostClass,!0)),B!==h&&h!==w.active?B=h:h===w.active&&B&&(B=null),m===h&&(h._ignoreWhileAnimating=t),h.animateAll(function(){$("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(t===g&&!g.animated||t===o&&!t.animated)&&(Te=null),!l.dragoverBubble&&!e.rootEl&&t!==document&&(g.parentNode[q]._isOutsideThisEl(e.target),!ve&&Ee(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function M(){V=K(g),be=K(g,l.draggable),Y({sortable:h,name:"change",toEl:o,newIndex:V,newDraggableIndex:be,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=le(t,l.draggable,o,!0),$("dragOver"),w.eventCanceled)return b;if(g.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||h._ignoreWhileAnimating===t)return T(!1);if(at=!1,s&&!l.disabled&&(f?d||(i=P!==O):B===this||(this.lastPutMode=Ve.checkPull(this,s,g,e))&&c.checkPut(this,s,g,e))){if(p=this._getDirection(e,t)==="vertical",a=F(g),$("dragOverValid"),w.eventCanceled)return b;if(i)return P=O,A(),this._hideClone(),$("revert"),w.eventCanceled||(De?O.insertBefore(g,De):O.appendChild(g)),T(!0);var R=Mt(o,l.draggable);if(!R||ca(e,p,this)&&!R.animated){if(R===g)return T(!1);if(R&&o===e.target&&(t=R),t&&(r=F(t)),Ke(O,o,g,a,t,r,e,!!t)!==!1)return A(),R&&R.nextSibling?o.insertBefore(g,R.nextSibling):o.appendChild(g),P=o,M(),T(!0)}else if(R&&da(e,p,this)){var ae=Me(o,0,l,!0);if(ae===g)return T(!1);if(t=ae,r=F(t),Ke(O,o,g,a,t,r,e,!1)!==!1)return A(),o.insertBefore(g,ae),P=o,M(),T(!0)}else if(t.parentNode===o){r=F(t);var G=0,re,he=g.parentNode!==o,z=!aa(g.animated&&g.toRect||a,t.animated&&t.toRect||r,p),pe=p?"top":"left",ee=Wt(t,"top","top")||Wt(g,"top","top"),ge=ee?ee.scrollTop:void 0;Te!==t&&(re=r[pe],We=!1,qe=!z&&l.invertSwap||he),G=ua(e,t,r,p,z?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,qe,Te===t);var Z;if(G!==0){var ie=K(g);do ie-=G,Z=P.children[ie];while(Z&&(_(Z,"display")==="none"||Z===y))}if(G===0||Z===t)return T(!1);Te=t,je=G;var me=t.nextElementSibling,te=!1;te=G===1;var ye=Ke(O,o,g,a,t,r,e,te);if(ye!==!1)return(ye===1||ye===-1)&&(te=ye===1),Dt=!0,setTimeout(sa,30),A(),te&&!me?o.appendChild(g):t.parentNode.insertBefore(g,te?me:t),ee&&co(ee,0,ge-ee.scrollTop),P=g.parentNode,re!==void 0&&!qe&&(et=Math.abs(re-F(t)[pe])),M(),T(!0)}if(o.contains(g))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",Ee),S(document,"mousemove",Ee),S(document,"touchmove",Ee)},_offUpEvents:function(){var e=this.el.ownerDocument;S(e,"mouseup",this._onDrop),S(e,"touchend",this._onDrop),S(e,"pointerup",this._onDrop),S(e,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;if(V=K(g),be=K(g,t.draggable),j("drop",this,{evt:e}),P=g&&g.parentNode,V=K(g),be=K(g,t.draggable),w.eventCanceled){this._nulling();return}$e=!1,qe=!1,We=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Xe&&_(document.body,"user-select",""),_(g,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(O===P||B&&B.lastPutMode!=="clone")&&k&&k.parentNode&&k.parentNode.removeChild(k),g&&(this.nativeDraggable&&S(g,"dragend",this),vt(g),g.style["will-change"]="",Be&&!$e&&U(g,B?B.options.ghostClass:this.options.ghostClass,!1),U(g,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:e}),O!==P?(V>=0&&(Y({rootEl:P,name:"add",toEl:P,fromEl:O,originalEvent:e}),Y({sortable:this,name:"remove",toEl:P,originalEvent:e}),Y({rootEl:P,name:"sort",toEl:P,fromEl:O,originalEvent:e}),Y({sortable:this,name:"sort",toEl:P,originalEvent:e})),B&&B.save()):V!==ke&&V>=0&&(Y({sortable:this,name:"update",toEl:P,originalEvent:e}),Y({sortable:this,name:"sort",toEl:P,originalEvent:e})),w.active&&((V==null||V===-1)&&(V=ke,be=Ye),Y({sortable:this,name:"end",toEl:P,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){j("nulling",this),O=g=P=y=De=k=Je=_e=xe=ne=Be=V=be=ke=Ye=Te=je=B=Ve=w.dragged=w.ghost=w.clone=w.active=null,it.forEach(function(e){e.checked=!0}),it.length=pt=gt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),la(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,t=this.el.children,a=0,r=t.length,i=this.options;a<r;a++)o=t[a],le(o,i.draggable,this.el,!1)&&e.push(o.getAttribute(i.dataIdAttr)||ha(o));return e},sort:function(e,o){var t={},a=this.el;this.toArray().forEach(function(r,i){var l=a.children[i];le(l,this.options.draggable,a,!1)&&(t[r]=l)},this),o&&this.captureAnimationState(),e.forEach(function(r){t[r]&&(a.removeChild(t[r]),a.appendChild(t[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return le(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(o===void 0)return t[e];var a=Ue.modifyOption(this,e,o);typeof a<"u"?t[e]=a:t[e]=o,e==="group"&&po(t)},destroy:function(){j("destroy",this);var e=this.el;e[q]=null,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),rt.splice(rt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!_e){if(j("hideClone",this),w.eventCanceled)return;_(k,"display","none"),this.options.removeCloneOnHide&&k.parentNode&&k.parentNode.removeChild(k),_e=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(_e){if(j("showClone",this),w.eventCanceled)return;g.parentNode==O&&!this.options.group.revertClone?O.insertBefore(k,g):De?O.insertBefore(k,De):O.appendChild(k),this.options.group.revertClone&&this.animate(g,k),_(k,"display",""),_e=!1}}};function la(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ke(n,e,o,t,a,r,i,l){var c,s=n[q],f=s.options.onMove,d;return window.CustomEvent&&!fe&&!Ge?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=o,c.draggedRect=t,c.related=a||e,c.relatedRect=r||F(e),c.willInsertAfter=l,c.originalEvent=i,n.dispatchEvent(c),f&&(d=f.call(s,c,i)),d}function vt(n){n.draggable=!1}function sa(){Dt=!1}function da(n,e,o){var t=F(Me(o.el,0,o.options,!0)),a=10;return e?n.clientX<t.left-a||n.clientY<t.top&&n.clientX<t.right:n.clientY<t.top-a||n.clientY<t.bottom&&n.clientX<t.left}function ca(n,e,o){var t=F(Mt(o.el,o.options.draggable)),a=10;return e?n.clientX>t.right+a||n.clientX<=t.right&&n.clientY>t.bottom&&n.clientX>=t.left:n.clientX>t.right&&n.clientY>t.top||n.clientX<=t.right&&n.clientY>t.bottom+a}function ua(n,e,o,t,a,r,i,l){var c=t?n.clientY:n.clientX,s=t?o.height:o.width,f=t?o.top:o.left,d=t?o.bottom:o.right,m=!1;if(!i){if(l&&et<s*a){if(!We&&(je===1?c>f+s*r/2:c<d-s*r/2)&&(We=!0),We)m=!0;else if(je===1?c<f+et:c>d-et)return-je}else if(c>f+s*(1-a)/2&&c<d-s*(1-a)/2)return fa(e)}return m=m||i,m&&(c<f+s*r/2||c>d-s*r/2)?c>f+s/2?1:-1:0}function fa(n){return K(g)<K(n)?1:-1}function ha(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,o=e.length,t=0;o--;)t+=e.charCodeAt(o);return t.toString(36)}function pa(n){it.length=0;for(var e=n.getElementsByTagName("input"),o=e.length;o--;){var t=e[o];t.checked&&it.push(t)}}function tt(n){return setTimeout(n,0)}function St(n){return clearTimeout(n)}ut&&I(document,"touchmove",function(n){(w.active||$e)&&n.cancelable&&n.preventDefault()});w.utils={on:I,off:S,css:_,find:lo,is:function(e,o){return!!le(e,o,e,!1)},extend:Zn,throttle:so,closest:le,toggleClass:U,clone:uo,index:K,nextTick:tt,cancelNextTick:St,detectDirection:ho,getChild:Me};w.get=function(n){return n[q]};w.mount=function(){for(var n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(w.utils=de(de({},w.utils),t.utils)),Ue.mount(t)})};w.create=function(n,e){return new w(n,e)};w.version=Un;var N=[],Le,It,Ct=!1,bt,_t,lt,Re;function ga(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(o){var t=o.originalEvent;this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):this.options.supportPointer?I(document,"pointermove",this._handleFallbackAutoScroll):t.touches?I(document,"touchmove",this._handleFallbackAutoScroll):I(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var t=o.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),Zt(),ot(),Kn()},nulling:function(){lt=It=Le=Ct=Re=bt=_t=null,N.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,t){var a=this,r=(o.touches?o.touches[0]:o).clientX,i=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(r,i);if(lt=o,t||this.options.forceAutoScrollFallback||Ge||fe||Xe){wt(o,this.options,l,t);var c=we(l,!0);Ct&&(!Re||r!==bt||i!==_t)&&(Re&&Zt(),Re=setInterval(function(){var s=we(document.elementFromPoint(r,i),!0);s!==c&&(c=s,ot()),wt(o,a.options,s,t)},10),bt=r,_t=i)}else{if(!this.options.bubbleScroll||we(l,!0)===se()){ot();return}wt(o,this.options,we(l,!1),!1)}}},ue(n,{pluginName:"scroll",initializeByDefault:!0})}function ot(){N.forEach(function(n){clearInterval(n.pid)}),N=[]}function Zt(){clearInterval(Re)}var wt=so(function(n,e,o,t){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,i=e.scrollSensitivity,l=e.scrollSpeed,c=se(),s=!1,f;It!==o&&(It=o,ot(),Le=e.scroll,f=e.scrollFn,Le===!0&&(Le=we(o,!0)));var d=0,m=Le;do{var p=m,h=F(p),b=h.top,$=h.bottom,A=h.left,T=h.right,M=h.width,R=h.height,ae=void 0,G=void 0,re=p.scrollWidth,he=p.scrollHeight,z=_(p),pe=p.scrollLeft,ee=p.scrollTop;p===c?(ae=M<re&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),G=R<he&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(ae=M<re&&(z.overflowX==="auto"||z.overflowX==="scroll"),G=R<he&&(z.overflowY==="auto"||z.overflowY==="scroll"));var ge=ae&&(Math.abs(T-a)<=i&&pe+M<re)-(Math.abs(A-a)<=i&&!!pe),Z=G&&(Math.abs($-r)<=i&&ee+R<he)-(Math.abs(b-r)<=i&&!!ee);if(!N[d])for(var ie=0;ie<=d;ie++)N[ie]||(N[ie]={});(N[d].vx!=ge||N[d].vy!=Z||N[d].el!==p)&&(N[d].el=p,N[d].vx=ge,N[d].vy=Z,clearInterval(N[d].pid),(ge!=0||Z!=0)&&(s=!0,N[d].pid=setInterval((function(){t&&this.layer===0&&w.active._onTouchMove(lt);var me=N[this.layer].vy?N[this.layer].vy*l:0,te=N[this.layer].vx?N[this.layer].vx*l:0;typeof f=="function"&&f.call(w.dragged.parentNode[q],te,me,n,lt,N[this.layer].el)!=="continue"||co(N[this.layer].el,te,me)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&m!==c&&(m=we(m,!1)));Ct=s}},30),vo=function(e){var o=e.originalEvent,t=e.putSortable,a=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(o){var s=t||r;l();var f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,d=document.elementFromPoint(f.clientX,f.clientY);c(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:a,putSortable:t}))}};function Nt(){}Nt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var a=Me(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(o,a):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:vo};ue(Nt,{pluginName:"revertOnSpill"});function Ft(){}Ft.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,a=t||this.sortable;a.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),a.animateAll()},drop:vo};ue(Ft,{pluginName:"removeOnSpill"});w.mount(new ga);w.mount(Ft,Nt);function Kt(n,e,o={}){let t;const{document:a=Eo,...r}=o,i={onUpdate:f=>{ma(e,f.oldIndex,f.newIndex)}},l=()=>{const f=typeof n=="string"?a==null?void 0:a.querySelector(n):xo(n);f&&(t=new w(f,{...i,...r}))},c=()=>t==null?void 0:t.destroy(),s=(f,d)=>{if(d!==void 0)t==null||t.option(f,d);else return t==null?void 0:t.option(f)};return yo(l),Do(c),{stop:c,start:l,option:s}}function ma(n,e,o){const t=So(n),a=t?[...Lt(n)]:Lt(n);if(o>=0&&o<a.length){const r=a.splice(e,1)[0];yt(()=>{a.splice(o,0,r),t&&(n.value=a)})}}const va={"aria-label":"download section",class:"bg-bg-10 flex flex-1 flex-col !overflow-hidden rounded-2xl p-4 shadow-lg"},ba={"aria-label":"unscheduled items",class:"flex w-full flex-col gap-4"},_a={class:"flex items-center gap-4"},wa={class:"whitespace-nowrap font-semibold"},ya=u("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),xa={"aria-label":"scheduled items",class:"flex w-full flex-col gap-4"},Ea={class:"flex items-center gap-4"},Da={class:"whitespace-nowrap font-semibold"},Sa=u("span",{class:"border-bg-9/30 w-full border-b-2 border-dashed"},null,-1),Ia=Se({__name:"DownloadManagerDownloadSection",setup(n){const e=J(),o=J(),t=J(),a=J(!0),{scheduledDownloadables:r,unscheduledDownloadables:i}=Pe();function l(){var p,h;const d=(p=e.value)==null?void 0:p.children,m=(h=o.value)==null?void 0:h.children;if(!d||!m)return!1;if(d.length!==r.value.length||m.length!==i.value.length)return!0;for(let b=0;b<d.length;b++)if(d[b].getAttribute("dl-id")!==r.value[b].id.toString())return!0;for(let b=0;b<m.length;b++)if(m[b].getAttribute("dl-id")!==i.value[b].id.toString())return!0;return!1}function c(){console.warn("Detected desync, rerendering..."),a.value=!1,yt(()=>a.value=!0)}function s(d,m,p,h){if(h>=0&&h<m.value.length+1){const b=d.value.splice(p,1)[0];b&&m.value.splice(h,0,b)}yt(()=>{l()&&c()})}Kt(e,r,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(d){var m;(m=t.value)==null||m.forEach(p=>p.observeItem()),s(i,r,d.oldIndex,d.newIndex)},onUpdate:function(d){var m;(m=t.value)==null||m.forEach(p=>p.observeItem()),s(r,r,d.oldIndex,d.newIndex)},onChange:function(d){var m;(m=t.value)==null||m.forEach(p=>p.removeObserveItem())},onEnd:function(d){var m;(m=t.value)==null||m.forEach(p=>p.observeItem())},onChoose:function(d){f.value=!0},onUnchoose:function(d){f.value=!1}}),Kt(o,i,{group:"schedule",scroll:!0,forceFallback:!0,handle:".drag-target",scrollSensitivity:100,animation:150,onAdd:function(d){var m;(m=t.value)==null||m.forEach(p=>p.observeItem()),s(r,i,d.oldIndex,d.newIndex)},onUpdate:function(d){var m;(m=t.value)==null||m.forEach(p=>p.observeItem()),s(i,i,d.oldIndex,d.newIndex)},onChange:function(d){var m;(m=t.value)==null||m.forEach(p=>p.removeObserveItem())},onEnd:function(d){var m;(m=t.value)==null||m.forEach(p=>p.observeItem())},onChoose:function(d){f.value=!0},onUnchoose:function(d){f.value=!1}});const f=J(!1);return(d,m)=>(E(),C("section",va,[u("div",{class:Q(["flex h-full flex-col gap-6 overflow-y-auto overflow-x-hidden rounded-2xl p-4",{"transform-gpu":!v(f)}])},[u("section",ba,[u("div",_a,[u("h4",wa,x(d.$t("scheduledDownload")),1),ya]),u("div",{ref_key:"scheduledEl",ref:e,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),C(xt,null,Et(v(a)?v(r):[],p=>(E(),Oe(v(Xt),{ref_for:!0,ref_key:"downloadEl",ref:t,key:p.id,dir:"ltr","dl-id":p.id,data:p,class:Q({hidden:p.downloading})},null,8,["dl-id","data","class"]))),128))],512)]),u("section",xa,[u("div",Ea,[u("h4",Da,x(d.$t("unScheduledDownload")),1),Sa]),u("div",{ref_key:"unscheduledEl",ref:o,class:"flex min-h-[8.5rem] flex-col gap-4 py-8"},[(E(!0),C(xt,null,Et(v(a)?v(i):[],p=>(E(),Oe(v(Xt),{ref_for:!0,ref_key:"downloadEl",ref:t,key:p.id,class:"download-item",dir:"ltr","dl-id":p.id,data:p},null,8,["dl-id","data"]))),128))],512)])],2)]))}}),Ca={class:"flex w-full items-center gap-2"},Ta={class:"flex gap-2"},$a={class:"bg-bg-8 w-poster-small h-poster-small shrink-0 overflow-hidden rounded-md"},Oa={class:"flex flex-col items-start justify-start gap-1"},ka={class:"line-clamp-1 break-all text-sm",dir:"ltr"},Aa={key:0,class:"text-fonts-300 ltr-dir text-xs font-bold"},Pa={class:"text-fonts-300 ltr-dir line-clamp-1 text-left text-xs font-bold"},Ma={class:"text-fonts-300 ltr-dir text-xs font-bold"},Na={class:"flex flex-col gap-2 px-1 opacity-0 transition-opacity group-hover:opacity-100"},Fa=Se({__name:"DownloadManagerHistoryItem",props:{data:{}},setup(n){const{showPath:e,openPath:o,completedDownloadables:t}=Pe();function a(r){t&&(t.value=t.value.filter(i=>i.id!==r))}return(r,i)=>{const l=$t,c=dt,s=ct;return E(),C("div",Ca,[u("div",Ta,[D(l,{to:`/single/${r.data.postId}`},{default:H(()=>[u("div",$a,[D(v(to),{src:r.data.image.poster.webp,punch:1,hash:r.data.image.poster.preview,class:"h-full","res-x":4,"res-y":6,"remove-canvas":"",duration:1e3,"height-size":75,"width-size":50},null,8,["src","hash"])])]),_:1},8,["to"]),u("div",Oa,[u("h6",ka,x(r.data.title),1),r.data.season!==void 0&&r.data.episode!==void 0?(E(),C("p",Aa,"S"+x(r.data.season)+"E"+x(r.data.episode),1)):L("",!0),u("p",Pa,x(r.data.quality),1),u("p",Ma,x(r.data.size),1)])]),u("ul",Na,[u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[0]||(i[0]=f=>v(o)(r.data.path))},[D(c,{name:"ph:play-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:H(()=>[W(x(r.$t("play")),1)]),_:1})]),u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[1]||(i[1]=f=>v(e)(r.data.path))},[D(c,{name:"ph:folder-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:H(()=>[W(x(r.$t("browseLocation")),1)]),_:1})]),u("li",{class:"cursor-pointer opacity-20 transition-opacity hover:opacity-100",onClick:i[2]||(i[2]=f=>a(r.data.id))},[D(c,{name:"ph:trash-fill",class:"h-6 w-6"}),D(s,{placement:"top"},{default:H(()=>[W(x(r.$t("removeFromHistory")),1)]),_:1})])])])}}}),Bt=n=>(Ot("data-v-04065ef9"),n=n(),kt(),n),Ba={"aria-label":"download manager sidebar",class:"flex h-full w-[18rem] flex-col rounded-2xl bg-bg-10 shadow-lg"},La={"aria-label":"storage section",class:"relative flex w-full flex-col items-center gap-4 p-4"},Ra={class:"w-full font-semibold"},za={class:"relative flex items-center justify-center"},Xa={class:"absolute top-[4.5rem] flex transform flex-col items-center gap-2"},Ha={class:"local-numbers text-4xl font-bold"},Ya=Bt(()=>u("span",{class:"absolute h-4 w-4 rounded-full bg-bg-1 blur-md"},null,-1)),ja={class:"flex flex-row items-center gap-1",dir:"ltr"},Wa={key:0},Ga=Bt(()=>u("p",null,"/",-1)),Ua={key:1},Va={key:0,class:"absolute flex w-full flex-col items-center justify-center gap-4 text-3xl text-fonts-300"},qa={"aria-label":"history section",class:"flex w-full flex-1 flex-col items-center gap-4 overflow-auto p-4"},Za={class:"w-full font-semibold"},Ka={class:"flex w-full flex-1 overflow-y-auto"},Qa={key:0,class:"flex w-full flex-col overflow-y-auto"},Ja=Bt(()=>u("span",{class:"line my-2 h-[2px] w-[90%] self-center rounded-full bg-bg-9/30 px-12"},null,-1)),er={key:1,class:"flex w-full flex-col items-center justify-center gap-4 text-fonts-400"},tr={class:"mb-32 font-bold"},or=Se({__name:"DownloadManagerSidebar",setup(n){const{bytesToSize:e}=ze.core,{getStorageStats:o,completedDownloadables:t}=Pe(),{downloadPath:a}=Pe(),r=J(),i=J(),l=J(!0),c=Jt(()=>i.value&&r.value?Math.floor(i.value/r.value*100):0);async function s(){if(!o)return;const{freeSpace:d,totalSpace:m}=await o();r.value=m,i.value=m-d}st(async()=>{await s(),l.value=!1,setInterval(s,1e3*60*5)}),eo(a,()=>{s()});const f=no();return(d,m)=>{var T;const p=dt,h=ct,b=Oo,$=Io,A=Fa;return E(),C("section",Ba,[u("header",La,[u("h4",Ra,x(d.$t("storage"))+":",1),u("div",{class:"absolute top-4 flex cursor-pointer rounded-full bg-bg-1/0 p-2 opacity-30 transition-all hover:bg-bg-1/10 hover:opacity-100 ltr:right-4 rtl:left-4",onClick:m[0]||(m[0]=M=>v(f).toggleDownloadFolder())},[D(p,{name:"ph:folder-fill"}),D(h,{placement:"top"},{default:H(()=>[W(x(d.$t("storageLocation")),1)]),_:1})]),u("div",za,[u("div",{class:Q(["relative flex flex-col items-center justify-center gap-4 transition-opacity",{"pointer-events-none opacity-0":v(l)}])},[D(b,{size:180,"stroke-width":12,linecap:"round",progress:v(c)},null,8,["progress"]),u("span",Xa,[u("h4",Ha,x(v(c))+"%",1),Ya]),u("div",ja,[v(i)?(E(),C("p",Wa,x(v(e)(v(i))),1)):L("",!0),Ga,v(r)?(E(),C("p",Ua,x(v(e)(v(r))),1)):L("",!0)])],2),v(l)?(E(),C("div",Va,[D($,{type:"circle"})])):L("",!0)])]),u("section",qa,[u("h4",Za,x(d.$t("history"))+":",1),u("div",Ka,[(T=v(t))!=null&&T.length?(E(),C("ul",Qa,[(E(!0),C(xt,null,Et(v(t),M=>(E(),C("li",{key:M.id,class:"history-item group flex w-full flex-col"},[D(A,{data:M},null,8,["data"]),Ja]))),128))])):(E(),C("div",er,[D(p,{name:"ph:download-fill",class:"text-4xl"}),u("h5",tr,x(d.$t("downloadHistoryIsEmpty")),1)]))])])])}}});const nr=At(or,[["__scopeId","data-v-04065ef9"]]),ar={class:"flex h-full gap-8 ltr:pr-4 rtl:flex-row-reverse rtl:pl-4"},rr={class:"flex h-full w-full flex-col gap-8"},dr=Se({__name:"download-manager",setup(n){const{isLoggedIn:e,user:o}=Co(),{isElectron:t}=To();if(!t||!e||!(o!=null&&o.user_allowed_to_download))throw $o({statusCode:404,fatal:!0,statusMessage:"Page Not Found"});return st(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.add("overflow-hidden-force")}),Qt(()=>{const a=document.getElementById("main-scroller");a==null||a.classList.remove("overflow-hidden-force")}),(a,r)=>{const i=yn,l=Ia,c=nr;return E(),C("div",ar,[u("div",rr,[D(i,{dir:"ltr"}),D(l)]),D(c)])}}});export{dr as default};
